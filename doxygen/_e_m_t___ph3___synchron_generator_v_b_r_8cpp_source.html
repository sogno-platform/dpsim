<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DPsim: /__w/dpsim/dpsim/dpsim-models/src/EMT/EMT_Ph3_SynchronGeneratorVBR.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DPsim
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_a932513a424ca3c4132fc92721c4e6d6.html">dpsim-models</a></li><li class="navelem"><a class="el" href="dir_6fea149062de1f45e98577920f986d53.html">src</a></li><li class="navelem"><a class="el" href="dir_ae95efbb9d0e2c3db498e7cf294ca207.html">EMT</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="headertitle"><div class="title">EMT_Ph3_SynchronGeneratorVBR.cpp</div></div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/* Copyright 2017-2021 Institute for Automation of Complex Power Systems,</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment"> *                     EONERC, RWTH Aachen University</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment"> *</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment"> * This Source Code Form is subject to the terms of the Mozilla Public</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment"> * License, v. 2.0. If a copy of the MPL was not distributed with this</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment"> * file, You can obtain one at https://mozilla.org/MPL/2.0/.</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment"> *********************************************************************************/</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span> </div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &lt;dpsim-models/EMT/EMT_Ph3_SynchronGeneratorVBR.h&gt;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span> </div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="keyword">using namespace </span>CPS;</div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span> </div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment">// !!! TODO:    Adaptions to use in EMT_Ph3 models phase-to-ground peak variables</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment">// !!!          with initialization from phase-to-phase RMS variables</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span> </div>
<div class="foldopen" id="foldopen00016" data-start="{" data-end="}">
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno"><a class="line" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1416089cf28f20454f387b89cb7c3327">   16</a></span><a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1416089cf28f20454f387b89cb7c3327">EMT::Ph3::SynchronGeneratorVBR::SynchronGeneratorVBR</a>(String <a class="code hl_function" href="class_c_p_s_1_1_identified_object.html#a66b765f33341283bc9b916c74047c749">uid</a>, String name,</div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span>                                                     Logger::Level logLevel)</div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span>    : <a class="code hl_function" href="class_c_p_s_1_1_m_n_a_sim_power_comp.html#ab9f66bb4639c7d0d73b47cef6be789c5">MNASimPowerComp</a>&lt;Real&gt;(<a class="code hl_function" href="class_c_p_s_1_1_identified_object.html#a66b765f33341283bc9b916c74047c749">uid</a>, name, true, true, logLevel),</div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span>      Base::<a class="code hl_function" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a456dfa6f189c9f7a321de9c1b3feea16">SynchronGenerator</a>(<a class="code hl_variable" href="class_c_p_s_1_1_identified_object.html#af7497f9b94a45040b1601ac58f5e3d97">mAttributes</a>) {</div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span>  mPhaseType = PhaseType::ABC;</div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span>  setTerminalNumber(1);</div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span>  **<a class="code hl_variable" href="class_c_p_s_1_1_sim_power_comp.html#a7210276935119e370dfb1f98d02c3a9a">mIntfVoltage</a> = Matrix::Zero(3, 1);</div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span>  **<a class="code hl_variable" href="class_c_p_s_1_1_sim_power_comp.html#a141d3e207fff12a4808e3f562a99fda1">mIntfCurrent</a> = Matrix::Zero(3, 1);</div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span>}</div>
</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span> </div>
<div class="foldopen" id="foldopen00026" data-start="{" data-end="}">
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno"><a class="line" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#accbda932610e68408e839b513ad313ba">   26</a></span><a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1416089cf28f20454f387b89cb7c3327">EMT::Ph3::SynchronGeneratorVBR::SynchronGeneratorVBR</a>(String name,</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span>                                                     Logger::Level logLevel)</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span>    : <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1416089cf28f20454f387b89cb7c3327">SynchronGeneratorVBR</a>(name, name, logLevel) {}</div>
</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span> </div>
<div class="foldopen" id="foldopen00030" data-start="{" data-end="}">
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno"><a class="line" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a42d4bfdf99c3f7d041af930c1e600d0e">   30</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a42d4bfdf99c3f7d041af930c1e600d0e">EMT::Ph3::SynchronGeneratorVBR::initialize</a>(Matrix frequencies) {</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>  <a class="code hl_function" href="class_c_p_s_1_1_sim_power_comp.html#a69a018f851bb62cf5147e25a93f2cb2c">SimPowerComp&lt;Real&gt;::initialize</a>(frequencies);</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>}</div>
</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span> </div>
<div class="foldopen" id="foldopen00034" data-start="{" data-end="}">
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno"><a class="line" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a4a4715b6aee21d722c24c7e57876aac8">   34</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a4a4715b6aee21d722c24c7e57876aac8">EMT::Ph3::SynchronGeneratorVBR::setBaseAndOperationalPerUnitParameters</a>(</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>    Real nomPower, Real nomVolt, Real nomFreq, Int poleNumber, Real nomFieldCur,</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>    Real Rs, Real Ld, Real Lq, Real Ld_t, Real Lq_t, Real Ld_s, Real Lq_s,</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>    Real Ll, Real Td0_t, Real Tq0_t, Real Td0_s, Real Tq0_s, Real inertia) {</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span> </div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>  <a class="code hl_function" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#add6ca785d0bfbf120ffc5be2c60545b6">Base::SynchronGenerator::setBaseAndOperationalPerUnitParameters</a>(</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>      nomPower, nomVolt, nomFreq, poleNumber, nomFieldCur, Rs, Ld, Lq, Ld_t,</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>      Lq_t, Ld_s, Lq_s, Ll, Td0_t, Tq0_t, Td0_s, Tq0_s, inertia);</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span> </div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>  SPDLOG_LOGGER_INFO(</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>      <a class="code hl_variable" href="class_c_p_s_1_1_topological_power_comp.html#a7c61e480e446111d56ac35399643d5b0">mSLog</a>,</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>      <span class="stringliteral">&quot;Set base parameters: \n&quot;</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>      <span class="stringliteral">&quot;nomPower: {:e}\nnomVolt: {:e}\nnomFreq: {:e}\n nomFieldCur: {:e}\n&quot;</span>,</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>      nomPower, nomVolt, nomFreq, nomFieldCur);</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span> </div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>  SPDLOG_LOGGER_INFO(<a class="code hl_variable" href="class_c_p_s_1_1_topological_power_comp.html#a7c61e480e446111d56ac35399643d5b0">mSLog</a>,</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>                     <span class="stringliteral">&quot;Set operational parameters in per unit: \n&quot;</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>                     <span class="stringliteral">&quot;poleNumber: {:d}\ninertia: {:e}\n&quot;</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>                     <span class="stringliteral">&quot;Rs: {:e}\nLd: {:e}\nLq: {:e}\nLl: {:e}\n&quot;</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>                     <span class="stringliteral">&quot;Ld_t: {:e}\nLq_t: {:e}\nLd_s: {:e}\nLq_s: {:e}\n&quot;</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>                     <span class="stringliteral">&quot;Td0_t: {:e}\nTq0_t: {:e}\nTd0_s: {:e}\nTq0_s: {:e}\n&quot;</span>,</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>                     poleNumber, inertia, Rs, Ld, Lq, Ll, Ld_t, Lq_t, Ld_s,</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>                     Lq_s, Td0_t, Tq0_t, Td0_s, Tq0_s);</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span> </div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>  SPDLOG_LOGGER_INFO(</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>      <a class="code hl_variable" href="class_c_p_s_1_1_topological_power_comp.html#a7c61e480e446111d56ac35399643d5b0">mSLog</a>,</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>      <span class="stringliteral">&quot;Set fundamental parameters in per unit: \n&quot;</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>      <span class="stringliteral">&quot;Rs: {:e}\nLl: {:e}\nLmd: {:e}\nLmq: {:e}\nRfd: {:e}\nLlfd: {:e}\nRkd: &quot;</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>      <span class="stringliteral">&quot;{:e}\n&quot;</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>      <span class="stringliteral">&quot;Llkd: {:e}\nRkq1: {:e}\nLlkq1: {:e}\nRkq2: {:e}\nLlkq2: {:e}\n&quot;</span>,</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>      **<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a6dd247e72aa169d0aadd03655def5f44">mRs</a>, **<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ab84b0e161919799fb1bb06c73b7cf205">mLl</a>, <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a24bd33b8a66712cc7ef207a91f8b5601">mLmd</a>, <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a3b11ffdfcd99c239f2fe63a15ca4b090">mLmq</a>, <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#aa43d2c670dffe9c37c3b2befb32c1933">mRfd</a>, <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a5c03e5795c973a5a2af98f311f075db8">mLlfd</a>, <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a9c81ef24ac07315f894ac8427f52bbf5">mRkd</a>, <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a64df291a8d539be4ff01c2d36ba58b1a">mLlkd</a>, <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a191f3895ece73a54755e6cccb93b55fa">mRkq1</a>, <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a838be0e6f5c0db826731a16a64933b1b">mLlkq1</a>, <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#acad70b447044e510833e1d01349b1b94">mRkq2</a>,</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>      <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ae763f40db95fd7493a5490432c53e1df">mLlkq2</a>);</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>}</div>
</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span> </div>
<div class="foldopen" id="foldopen00068" data-start="{" data-end="}">
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno"><a class="line" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1ad23099a58fc61b4b5729288f27ee51">   68</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1ad23099a58fc61b4b5729288f27ee51">EMT::Ph3::SynchronGeneratorVBR::setBaseAndFundamentalPerUnitParameters</a>(</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>    Real nomPower, Real nomVolt, Real nomFreq, Int poleNumber, Real nomFieldCur,</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>    Real Rs, Real Ll, Real Lmd, Real Lmq, Real Rfd, Real Llfd, Real Rkd,</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>    Real Llkd, Real Rkq1, Real Llkq1, Real Rkq2, Real Llkq2, Real inertia) {</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span> </div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>  <a class="code hl_function" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a9ac3b83196f52f4014e8476485b38f60">Base::SynchronGenerator::setBaseAndFundamentalPerUnitParameters</a>(</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>      nomPower, nomVolt, nomFreq, nomFieldCur, poleNumber, Rs, Ll, Lmd, Lmq,</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>      Rfd, Llfd, Rkd, Llkd, Rkq1, Llkq1, Rkq2, Llkq2, inertia);</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span> </div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>  SPDLOG_LOGGER_INFO(<a class="code hl_variable" href="class_c_p_s_1_1_topological_power_comp.html#a7c61e480e446111d56ac35399643d5b0">mSLog</a>,</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>                     <span class="stringliteral">&quot;Set base and fundamental parameters in per unit: \n&quot;</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>                     <span class="stringliteral">&quot;nomPower: {:e}\nnomVolt: {:e}\nnomFreq: &quot;</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>                     <span class="stringliteral">&quot;{:e}\npoleNumber: {:d}\nnomFieldCur: {:e}\n&quot;</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>                     <span class="stringliteral">&quot;Rs: {:e}\nLl: {:e}\nLmd: {:e}\nLmq: {:e}\nRfd: &quot;</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>                     <span class="stringliteral">&quot;{:e}\nLlfd: {:e}\nRkd: {:e}\n&quot;</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>                     <span class="stringliteral">&quot;Llkd: {:e}\nRkq1: {:e}\nLlkq1: {:e}\nRkq2: {:e}\nLlkq2: &quot;</span></div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>                     <span class="stringliteral">&quot;{:e}\ninertia: {:e}&quot;</span>,</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>                     nomPower, nomVolt, nomFreq, poleNumber, nomFieldCur, Rs,</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>                     Ll, Lmd, Lmq, Rfd, Llfd, Rkd, Llkd, Rkq1, Llkq1, Rkq2,</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>                     Llkq2, inertia);</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>}</div>
</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span> </div>
<div class="foldopen" id="foldopen00090" data-start="{" data-end="}">
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno"><a class="line" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac67dd7d013f16501da61f46e8f636211">   90</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac67dd7d013f16501da61f46e8f636211">EMT::Ph3::SynchronGeneratorVBR::setInitialValues</a>(Real initActivePower,</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>                                                      Real initReactivePower,</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>                                                      Real initTerminalVolt,</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>                                                      Real initVoltAngle,</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>                                                      Real initMechPower) {</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span> </div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>  Base::SynchronGenerator::setInitialValues(initActivePower, initReactivePower,</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>                                            initTerminalVolt, initVoltAngle,</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>                                            initMechPower);</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span> </div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>  SPDLOG_LOGGER_INFO(</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>      <a class="code hl_variable" href="class_c_p_s_1_1_topological_power_comp.html#a7c61e480e446111d56ac35399643d5b0">mSLog</a>,</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>      <span class="stringliteral">&quot;Set initial values: \n&quot;</span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>      <span class="stringliteral">&quot;initActivePower: {:e}\ninitReactivePower: {:e}\ninitTerminalVolt: {:e}\n&quot;</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>      <span class="stringliteral">&quot;initVoltAngle: {:e} \ninitMechPower: {:e}&quot;</span>,</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>      initActivePower, initReactivePower, initTerminalVolt, initVoltAngle,</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>      initMechPower);</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>}</div>
</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span> </div>
<div class="foldopen" id="foldopen00109" data-start="{" data-end="}">
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno"><a class="line" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#af2c5e8b9207d8715947c63d86bdf5a73">  109</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#af2c5e8b9207d8715947c63d86bdf5a73">EMT::Ph3::SynchronGeneratorVBR::initializeFromNodesAndTerminals</a>(</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    Real frequency) {</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a5d7b2a2ff18c4674897f1b66499d2f04">mInitialValuesSet</a>) {</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>    SPDLOG_LOGGER_INFO(<a class="code hl_variable" href="class_c_p_s_1_1_topological_power_comp.html#a7c61e480e446111d56ac35399643d5b0">mSLog</a>, <span class="stringliteral">&quot;--- Initialization from powerflow ---&quot;</span>);</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span> </div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>    <span class="comment">// terminal powers in consumer system -&gt; convert to generator system</span></div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    Real activePower = -<a class="code hl_function" href="class_c_p_s_1_1_sim_power_comp.html#a6b82b23bfd1af87d260af378361169e7">terminal</a>(0)-&gt;singlePower().real();</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>    Real reactivePower = -<a class="code hl_function" href="class_c_p_s_1_1_sim_power_comp.html#a6b82b23bfd1af87d260af378361169e7">terminal</a>(0)-&gt;singlePower().imag();</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span> </div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>    <span class="comment">//  voltage magnitude in phase-to-phase RMS -&gt; convert to phase-to-ground peak expected by setInitialValues</span></div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>    Real voltMagnitude = RMS3PH_TO_PEAK1PH * Math::abs(initialSingleVoltage(0));</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span> </div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    this-&gt;<a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac67dd7d013f16501da61f46e8f636211">setInitialValues</a>(activePower, reactivePower, voltMagnitude,</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>                           Math::phase(initialSingleVoltage(0)), activePower);</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span> </div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>    SPDLOG_LOGGER_INFO(<a class="code hl_variable" href="class_c_p_s_1_1_topological_power_comp.html#a7c61e480e446111d56ac35399643d5b0">mSLog</a>,</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>                       <span class="stringliteral">&quot;\nTerminal 0 voltage: {:s}&quot;</span></div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>                       <span class="stringliteral">&quot;\nTerminal 0 power: {:s}&quot;</span></div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>                       <span class="stringliteral">&quot;\n--- Initialization from powerflow finished ---&quot;</span>,</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>                       Logger::phasorToString(initialSingleVoltage(0)),</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>                       Logger::complexToString(<a class="code hl_function" href="class_c_p_s_1_1_sim_power_comp.html#a6b82b23bfd1af87d260af378361169e7">terminal</a>(0)-&gt;singlePower()));</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>    SPDLOG_LOGGER_INFO(<a class="code hl_variable" href="class_c_p_s_1_1_topological_power_comp.html#a7c61e480e446111d56ac35399643d5b0">mSLog</a>, <span class="stringliteral">&quot;Initial values already set, skipping &quot;</span></div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>                              <span class="stringliteral">&quot;initializeFromNodesAndTerminals.&quot;</span>);</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>  }</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>  <a class="code hl_variable" href="class_c_p_s_1_1_topological_power_comp.html#a7c61e480e446111d56ac35399643d5b0">mSLog</a>-&gt;flush();</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>}</div>
</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span> </div>
<div class="foldopen" id="foldopen00137" data-start="{" data-end="}">
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno"><a class="line" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa5a759beabf67e695d9e71ebef1c2fee">  137</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa5a759beabf67e695d9e71ebef1c2fee">EMT::Ph3::SynchronGeneratorVBR::mnaCompInitialize</a>(</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    Real omega, Real timeStep, Attribute&lt;Matrix&gt;::Ptr leftVector) {</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>  <a class="code hl_function" href="class_c_p_s_1_1_sim_power_comp.html#aeae7b46840d1405f8794fc41ee594dee">updateMatrixNodeIndices</a>();</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span> </div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>  <span class="keywordflow">for</span> (UInt phase1Idx = 0; phase1Idx &lt; 3; ++phase1Idx)</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    <span class="keywordflow">for</span> (UInt phase2Idx = 0; phase2Idx &lt; 3; ++phase2Idx)</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>      mVariableSystemMatrixEntries.push_back(std::make_pair&lt;UInt, UInt&gt;(</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>          matrixNodeIndex(0, phase1Idx), matrixNodeIndex(0, phase2Idx)));</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span> </div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>  SPDLOG_LOGGER_INFO(<a class="code hl_variable" href="class_c_p_s_1_1_topological_power_comp.html#a7c61e480e446111d56ac35399643d5b0">mSLog</a>, <span class="stringliteral">&quot;List of index pairs of varying matrix entries: &quot;</span>);</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> indexPair : mVariableSystemMatrixEntries)</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    SPDLOG_LOGGER_INFO(<a class="code hl_variable" href="class_c_p_s_1_1_topological_power_comp.html#a7c61e480e446111d56ac35399643d5b0">mSLog</a>, <span class="stringliteral">&quot;({}, {})&quot;</span>, indexPair.first, indexPair.second);</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span> </div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>  <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a0f61513fafc98996d8d8bb95dcd1172d">mSystemOmega</a> = omega;</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>  <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a0d28bf11b4b5dd9f4b86e9f409d136a7">mTimeStep</a> = timeStep;</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span> </div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>  <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a6f1880c506b5c5d4884e8091607cb117">mResistanceMat</a> = MatrixFixedSize&lt;3, 3&gt;::Zero(3, 3);</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>  <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a6f1880c506b5c5d4884e8091607cb117">mResistanceMat</a> &lt;&lt; **<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a6dd247e72aa169d0aadd03655def5f44">mRs</a>, 0, 0, 0, **<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a6dd247e72aa169d0aadd03655def5f44">mRs</a>, 0, 0, 0, **<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a6dd247e72aa169d0aadd03655def5f44">mRs</a>;</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span> </div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>  <span class="comment">//Dynamic mutual inductances</span></div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ab04c56991057e064caa7023997bf9714">mDLmd</a> = 1. / (1. / <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a24bd33b8a66712cc7ef207a91f8b5601">mLmd</a> + 1. / <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a5c03e5795c973a5a2af98f311f075db8">mLlfd</a> + 1. / <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a64df291a8d539be4ff01c2d36ba58b1a">mLlkd</a>);</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span> </div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ad3d3c246dac87ab59173cda6843d8773">mNumDampingWindings</a> == 2)</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>    <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a4cfe2f91d745056839ddf4e51e4a144a">mDLmq</a> = 1. / (1. / <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a3b11ffdfcd99c239f2fe63a15ca4b090">mLmq</a> + 1. / <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a838be0e6f5c0db826731a16a64933b1b">mLlkq1</a> + 1. / <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ae763f40db95fd7493a5490432c53e1df">mLlkq2</a>);</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>  <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>    <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a4cfe2f91d745056839ddf4e51e4a144a">mDLmq</a> = 1. / (1. / <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a3b11ffdfcd99c239f2fe63a15ca4b090">mLmq</a> + 1. / <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a838be0e6f5c0db826731a16a64933b1b">mLlkq1</a>);</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    K1a = Matrix::Zero(2, 1);</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    K1 = Matrix::Zero(2, 1);</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>  }</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span> </div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a4e7869f6d49611c0849d8d8eccc2a74e">mLa</a> = (<a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a4cfe2f91d745056839ddf4e51e4a144a">mDLmq</a> + <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ab04c56991057e064caa7023997bf9714">mDLmd</a>) / 3.;</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1021f798a24af4df76c886bebaa0a1f0">mLb</a> = (<a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ab04c56991057e064caa7023997bf9714">mDLmd</a> - <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a4cfe2f91d745056839ddf4e51e4a144a">mDLmq</a>) / 3.;</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span> </div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>  <span class="comment">// steady state per unit initial value</span></div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>  <a class="code hl_function" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#abe2b767d31048ccca010e6568c4a1474">initPerUnitStates</a>();</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span> </div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>  <span class="comment">// Correcting variables</span></div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>  <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a> = <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a> + PI / 2;</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>  **<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a35b09d0fe8c40f4aa2a267c21dce6210">mMechTorque</a> = -**<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a35b09d0fe8c40f4aa2a267c21dce6210">mMechTorque</a>;</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a74517259dc7b77bcd43e822f76c2eedf">mIq</a> = -<a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a74517259dc7b77bcd43e822f76c2eedf">mIq</a>;</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac7439c6982a917ddf4cac3373b3eded4">mId</a> = -<a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac7439c6982a917ddf4cac3373b3eded4">mId</a>;</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span> </div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>  <span class="comment">// Init stator currents</span></div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a74517259dc7b77bcd43e822f76c2eedf">mIq</a> = <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a03f4a70f1d448200321dc0fdf0a01981">mIsr</a>(3, 0);</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac7439c6982a917ddf4cac3373b3eded4">mId</a> = <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a03f4a70f1d448200321dc0fdf0a01981">mIsr</a>(0, 0);</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#acaff227ed289d71bfc78b2f25b114db1">mI0</a> = <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a03f4a70f1d448200321dc0fdf0a01981">mIsr</a>(6, 0);</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span> </div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>  <span class="comment">// Init stator voltages</span></div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a2e23e59787357a312c54c32020275990">mVq</a> = <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a66db7a71580419f6f442557ae1de4b49">mVsr</a>(3, 0);</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#afa6f2f502767f284dfc7829f9cfa3d15">mVd</a> = <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a66db7a71580419f6f442557ae1de4b49">mVsr</a>(0, 0);</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a2e512dff1f08274fa68d41913942bed5">mV0</a> = <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a66db7a71580419f6f442557ae1de4b49">mVsr</a>(6, 0);</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span> </div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>  <span class="comment">// Init magnetizing flux linkage</span></div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1471bd6a58ef11d2e1ca2d51ae83aa62">mPsikq1</a> = <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a6758651ec90e32ca2e11b96dfa89b646">mPsisr</a>(4, 0);</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac5de8d7d90dd4d4a8e5ded9e0d015cfc">mPsikq2</a> = <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a6758651ec90e32ca2e11b96dfa89b646">mPsisr</a>(5, 0);</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a6d2f633bc58776cf1b0e421794c8ae71">mPsikd</a> = <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a6758651ec90e32ca2e11b96dfa89b646">mPsisr</a>(2, 0);</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a6e3f30ad83be8665f2dfb991aa3c1445">mPsifd</a> = <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a6758651ec90e32ca2e11b96dfa89b646">mPsisr</a>(1, 0);</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ab55652fc77e71b8e170cc0113d386821">mPsimq</a> = <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a6758651ec90e32ca2e11b96dfa89b646">mPsisr</a>(3, 0);</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a2b89c4a7d2def9381cd524965aad3d1d">mPsimd</a> = <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a6758651ec90e32ca2e11b96dfa89b646">mPsisr</a>(0, 0);</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span></div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aee90424ea4586251101e046aa1329ac8">mVfd</a> = <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a66db7a71580419f6f442557ae1de4b49">mVsr</a>(1, 0);</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span> </div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>  <span class="comment">// #### VBR Model Dynamic variables #######################################</span></div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>  CalculateAuxiliarConstants(<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a0d28bf11b4b5dd9f4b86e9f409d136a7">mTimeStep</a> * <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ab69a67ff476512700317ee103c4051d3">mBase_OmElec</a>);</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span> </div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ad3d3c246dac87ab59173cda6843d8773">mNumDampingWindings</a> == 2)</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>    <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ab55652fc77e71b8e170cc0113d386821">mPsimq</a> = <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a4cfe2f91d745056839ddf4e51e4a144a">mDLmq</a> * (<a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1471bd6a58ef11d2e1ca2d51ae83aa62">mPsikq1</a> / <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a838be0e6f5c0db826731a16a64933b1b">mLlkq1</a> + <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac5de8d7d90dd4d4a8e5ded9e0d015cfc">mPsikq2</a> / <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ae763f40db95fd7493a5490432c53e1df">mLlkq2</a> + <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a74517259dc7b77bcd43e822f76c2eedf">mIq</a>);</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>  <span class="keywordflow">else</span></div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>    <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ab55652fc77e71b8e170cc0113d386821">mPsimq</a> = <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a4cfe2f91d745056839ddf4e51e4a144a">mDLmq</a> * (<a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1471bd6a58ef11d2e1ca2d51ae83aa62">mPsikq1</a> / <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a838be0e6f5c0db826731a16a64933b1b">mLlkq1</a> + <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a74517259dc7b77bcd43e822f76c2eedf">mIq</a>);</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span> </div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a2b89c4a7d2def9381cd524965aad3d1d">mPsimd</a> = <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ab04c56991057e064caa7023997bf9714">mDLmd</a> * (<a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a6e3f30ad83be8665f2dfb991aa3c1445">mPsifd</a> / <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a5c03e5795c973a5a2af98f311f075db8">mLlfd</a> + <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a6d2f633bc58776cf1b0e421794c8ae71">mPsikd</a> / <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a64df291a8d539be4ff01c2d36ba58b1a">mLlkd</a> + <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac7439c6982a917ddf4cac3373b3eded4">mId</a>);</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span> </div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa6e6c3a8da9eb48c476466af2f38216e">mDqStatorCurrents</a> &lt;&lt; <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a74517259dc7b77bcd43e822f76c2eedf">mIq</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac7439c6982a917ddf4cac3373b3eded4">mId</a>;</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span> </div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa9e96b9faa22d648a0e3caca3ac1cb48">mPsikq1kq2</a> &lt;&lt; <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1471bd6a58ef11d2e1ca2d51ae83aa62">mPsikq1</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac5de8d7d90dd4d4a8e5ded9e0d015cfc">mPsikq2</a>;</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#af58017d340eaf76e189eba1dfce6aa0d">mPsifdkd</a> &lt;&lt; <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a6e3f30ad83be8665f2dfb991aa3c1445">mPsifd</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a6d2f633bc58776cf1b0e421794c8ae71">mPsikd</a>;</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span> </div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>  CalculateAuxiliarVariables();</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>  K1K2 &lt;&lt; K1, K2;</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a9e24e16efb5707fafa90bf0f22d95289">mDVqd</a> = K1K2 * <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa6e6c3a8da9eb48c476466af2f38216e">mDqStatorCurrents</a> + h_qdr;</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a95ae84740db3c2ddf4aee2f630e38fd6">mDVq</a> = <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a9e24e16efb5707fafa90bf0f22d95289">mDVqd</a>(0);</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ad9ba87afa324527d279ce31917bfac58">mDVd</a> = <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a9e24e16efb5707fafa90bf0f22d95289">mDVqd</a>(1);</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span> </div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a926ec8279ef26c445b39127d4adbe994">mDVa</a> = <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a8eedde8742359fac3ed8a9a72f18cf98">inverseParkTransform</a>(<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a95ae84740db3c2ddf4aee2f630e38fd6">mDVq</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ad9ba87afa324527d279ce31917bfac58">mDVd</a>, 0)(0);</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac8d901d89e27380e495f35ffa826828c">mDVb</a> = <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a8eedde8742359fac3ed8a9a72f18cf98">inverseParkTransform</a>(<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a95ae84740db3c2ddf4aee2f630e38fd6">mDVq</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ad9ba87afa324527d279ce31917bfac58">mDVd</a>, 0)(1);</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ada4d439dbb4cd03158e794b3815b95d0">mDVc</a> = <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a8eedde8742359fac3ed8a9a72f18cf98">inverseParkTransform</a>(<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a95ae84740db3c2ddf4aee2f630e38fd6">mDVq</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ad9ba87afa324527d279ce31917bfac58">mDVd</a>, 0)(2);</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span> </div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a60cb6627435eafbef3b03505b4555d8d">mDVabc</a> &lt;&lt; <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a926ec8279ef26c445b39127d4adbe994">mDVa</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac8d901d89e27380e495f35ffa826828c">mDVb</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ada4d439dbb4cd03158e794b3815b95d0">mDVc</a>;</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span> </div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a463597be77244e7af701c7090362e581">mVa</a> = <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a8eedde8742359fac3ed8a9a72f18cf98">inverseParkTransform</a>(<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a2e23e59787357a312c54c32020275990">mVq</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#afa6f2f502767f284dfc7829f9cfa3d15">mVd</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a2e512dff1f08274fa68d41913942bed5">mV0</a>)(0);</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aaac94db0d6f994ba483ae28434b9cc44">mVb</a> = <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a8eedde8742359fac3ed8a9a72f18cf98">inverseParkTransform</a>(<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a2e23e59787357a312c54c32020275990">mVq</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#afa6f2f502767f284dfc7829f9cfa3d15">mVd</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a2e512dff1f08274fa68d41913942bed5">mV0</a>)(1);</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a0a0e2948a571d7d7bd3896b4d0075b70">mVc</a> = <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a8eedde8742359fac3ed8a9a72f18cf98">inverseParkTransform</a>(<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a2e23e59787357a312c54c32020275990">mVq</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#afa6f2f502767f284dfc7829f9cfa3d15">mVd</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a2e512dff1f08274fa68d41913942bed5">mV0</a>)(2);</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span> </div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1cbb26a3a3eb75d8f73af405cf226209">mIa</a> = <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a8eedde8742359fac3ed8a9a72f18cf98">inverseParkTransform</a>(<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a74517259dc7b77bcd43e822f76c2eedf">mIq</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac7439c6982a917ddf4cac3373b3eded4">mId</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#acaff227ed289d71bfc78b2f25b114db1">mI0</a>)(0);</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ae6dc1329a8ecbda86c286e239256de29">mIb</a> = <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a8eedde8742359fac3ed8a9a72f18cf98">inverseParkTransform</a>(<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a74517259dc7b77bcd43e822f76c2eedf">mIq</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac7439c6982a917ddf4cac3373b3eded4">mId</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#acaff227ed289d71bfc78b2f25b114db1">mI0</a>)(1);</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa15d6ea8d20627ce7d3d4526fd77a9a1">mIc</a> = <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a8eedde8742359fac3ed8a9a72f18cf98">inverseParkTransform</a>(<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a74517259dc7b77bcd43e822f76c2eedf">mIq</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac7439c6982a917ddf4cac3373b3eded4">mId</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#acaff227ed289d71bfc78b2f25b114db1">mI0</a>)(2);</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span> </div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>  <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#af8fd6b77ae3390027a8467ee1fc3f40c">CalculateL</a>();</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span> </div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>  SPDLOG_LOGGER_INFO(<a class="code hl_variable" href="class_c_p_s_1_1_topological_power_comp.html#a7c61e480e446111d56ac35399643d5b0">mSLog</a>, <span class="stringliteral">&quot;Initialize right side vector of size {}&quot;</span>,</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>                     leftVector-&gt;get().rows());</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>  SPDLOG_LOGGER_INFO(</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>      <a class="code hl_variable" href="class_c_p_s_1_1_topological_power_comp.html#a7c61e480e446111d56ac35399643d5b0">mSLog</a>, <span class="stringliteral">&quot;Component affects right side vector entries {}, {} and {}&quot;</span>,</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>      matrixNodeIndex(0, 0), matrixNodeIndex(0, 1), matrixNodeIndex(0, 2));</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span> </div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>  <span class="comment">// set initial interface current</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa2ce795dc253b415b5ffd8d7090e9bd6">mVabc</a> &lt;&lt; <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a463597be77244e7af701c7090362e581">mVa</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aaac94db0d6f994ba483ae28434b9cc44">mVb</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a0a0e2948a571d7d7bd3896b4d0075b70">mVc</a>;</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>  **<a class="code hl_variable" href="class_c_p_s_1_1_sim_power_comp.html#a7210276935119e370dfb1f98d02c3a9a">mIntfVoltage</a> = <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa2ce795dc253b415b5ffd8d7090e9bd6">mVabc</a> * <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ad4ae7afe556b5ccfa16e60862ee14540">mBase_V</a>;</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span> </div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>  <span class="comment">// set initial interface voltage</span></div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a58e805b94f6fa0a8f919d7af3c107c06">mIabc</a> &lt;&lt; <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1cbb26a3a3eb75d8f73af405cf226209">mIa</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ae6dc1329a8ecbda86c286e239256de29">mIb</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa15d6ea8d20627ce7d3d4526fd77a9a1">mIc</a>;</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>  **<a class="code hl_variable" href="class_c_p_s_1_1_sim_power_comp.html#a141d3e207fff12a4808e3f562a99fda1">mIntfCurrent</a> = <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a58e805b94f6fa0a8f919d7af3c107c06">mIabc</a> * <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a252ecc59be9dfadb9dde6d74c018780d">mBase_I</a>;</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>}</div>
</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span> </div>
<div class="foldopen" id="foldopen00252" data-start="{" data-end="}">
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno"><a class="line" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a73a326e112d36ff0df111044d81f0414">  252</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a73a326e112d36ff0df111044d81f0414">EMT::Ph3::SynchronGeneratorVBR::mnaCompPreStep</a>(Real time,</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>                                                    Int timeStepCount) {</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>  <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ab0945b0c5eba9c6d5dede8f20de6df96">stepInPerUnit</a>();</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>  <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ab7877981c0e23b9e0475a45b946a320a">mnaCompApplyRightSideVectorStamp</a>(**<a class="code hl_variable" href="class_c_p_s_1_1_m_n_a_sim_power_comp.html#ac70d8c6733b49d5d5565ba21c28b372e">mRightVector</a>);</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>}</div>
</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span> </div>
<div class="foldopen" id="foldopen00258" data-start="{" data-end="}">
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno"><a class="line" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ad9c49c1fa8e3f1031d592e9cdf5746c8">  258</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ad9c49c1fa8e3f1031d592e9cdf5746c8">EMT::Ph3::SynchronGeneratorVBR::mnaCompApplySystemMatrixStamp</a>(</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>    SparseMatrixRow &amp;systemMatrix) {</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>  <span class="keywordflow">if</span> (terminalNotGrounded(0)) {</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>    MNAStampUtils::stamp3x3ConductanceMatrixNodeToGround(</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>        <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a361779cba8a20670da21896a1031ff5b">mConductanceMat</a>, systemMatrix, matrixNodeIndex(0), <a class="code hl_variable" href="class_c_p_s_1_1_topological_power_comp.html#a7c61e480e446111d56ac35399643d5b0">mSLog</a>);</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>  }</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>}</div>
</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span> </div>
<div class="foldopen" id="foldopen00266" data-start="{" data-end="}">
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno"><a class="line" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a5d980b75e5320f7a364d94ddb8a2d349">  266</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a5d980b75e5320f7a364d94ddb8a2d349">EMT::Ph3::SynchronGeneratorVBR::mnaCompAddPreStepDependencies</a>(</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>    AttributeBase::List &amp;prevStepDependencies,</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>    AttributeBase::List &amp;attributeDependencies,</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>    AttributeBase::List &amp;modifiedAttributes) {</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>  <span class="comment">// add pre-step dependencies of component itself</span></div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>  prevStepDependencies.push_back(<a class="code hl_variable" href="class_c_p_s_1_1_sim_power_comp.html#a141d3e207fff12a4808e3f562a99fda1">mIntfCurrent</a>);</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>  prevStepDependencies.push_back(<a class="code hl_variable" href="class_c_p_s_1_1_sim_power_comp.html#a7210276935119e370dfb1f98d02c3a9a">mIntfVoltage</a>);</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>  modifiedAttributes.push_back(<a class="code hl_variable" href="class_c_p_s_1_1_m_n_a_sim_power_comp.html#ac70d8c6733b49d5d5565ba21c28b372e">mRightVector</a>);</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>}</div>
</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span> </div>
<div class="foldopen" id="foldopen00276" data-start="{" data-end="}">
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno"><a class="line" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ab7877981c0e23b9e0475a45b946a320a">  276</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ab7877981c0e23b9e0475a45b946a320a">EMT::Ph3::SynchronGeneratorVBR::mnaCompApplyRightSideVectorStamp</a>(</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>    Matrix &amp;rightVector) {</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>  <span class="keywordflow">if</span> (terminalNotGrounded(0)) {</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    Math::setVectorElement(rightVector, matrixNodeIndex(0, 0), <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#abf05972584bf4c616713d4226f5e1efa">mISourceEq</a>(0));</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>    Math::setVectorElement(rightVector, matrixNodeIndex(0, 1), <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#abf05972584bf4c616713d4226f5e1efa">mISourceEq</a>(1));</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>    Math::setVectorElement(rightVector, matrixNodeIndex(0, 2), <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#abf05972584bf4c616713d4226f5e1efa">mISourceEq</a>(2));</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>  }</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>}</div>
</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span> </div>
<div class="foldopen" id="foldopen00285" data-start="{" data-end="}">
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno"><a class="line" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ab0945b0c5eba9c6d5dede8f20de6df96">  285</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ab0945b0c5eba9c6d5dede8f20de6df96">EMT::Ph3::SynchronGeneratorVBR::stepInPerUnit</a>() {</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span> </div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>  <span class="comment">// Update of mechanical torque from turbine governor</span></div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ae418b7ecf3bb81caacd604ca05c45192">mHasTurbineGovernor</a>)</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>    **<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a35b09d0fe8c40f4aa2a267c21dce6210">mMechTorque</a> = -<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a7dfc2903c3a1760be272b39a999c2d3b">mTurbineGovernor</a>-&gt;step(</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>        **<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ae0e8a4b5f81970dcaa612f632431f721">mOmMech</a>, 1, mInitElecPower.real() / <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#adce23b4a4e0806102a4f496f4024e881">mNomPower</a>, <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a0d28bf11b4b5dd9f4b86e9f409d136a7">mTimeStep</a>);</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span> </div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>  <span class="comment">// Estimate mechanical variables with euler</span></div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>  **<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#afb80ab1571a4fc891d4669fbc97868d2">mElecTorque</a> = (<a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a2b89c4a7d2def9381cd524965aad3d1d">mPsimd</a> * <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a74517259dc7b77bcd43e822f76c2eedf">mIq</a> - <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ab55652fc77e71b8e170cc0113d386821">mPsimq</a> * <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac7439c6982a917ddf4cac3373b3eded4">mId</a>);</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>  **<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ae0e8a4b5f81970dcaa612f632431f721">mOmMech</a> = **<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ae0e8a4b5f81970dcaa612f632431f721">mOmMech</a> + <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a0d28bf11b4b5dd9f4b86e9f409d136a7">mTimeStep</a> * (1. / (2. * **<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#afb1f407ce0e07d53d8d2e20c6feb008f">mInertia</a>) *</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>                                       (**<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#afb80ab1571a4fc891d4669fbc97868d2">mElecTorque</a> - **<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a35b09d0fe8c40f4aa2a267c21dce6210">mMechTorque</a>));</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>  <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a> = <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a> + <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a0d28bf11b4b5dd9f4b86e9f409d136a7">mTimeStep</a> * (**<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ae0e8a4b5f81970dcaa612f632431f721">mOmMech</a> * <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#abe7cf1e95c0466032435f917715514f0">mBase_OmMech</a>);</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span> </div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>  <span class="comment">// Calculate equivalent Resistance and current source</span></div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa2ce795dc253b415b5ffd8d7090e9bd6">mVabc</a> &lt;&lt; <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a463597be77244e7af701c7090362e581">mVa</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aaac94db0d6f994ba483ae28434b9cc44">mVb</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a0a0e2948a571d7d7bd3896b4d0075b70">mVc</a>;</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span> </div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a58e805b94f6fa0a8f919d7af3c107c06">mIabc</a> &lt;&lt; <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1cbb26a3a3eb75d8f73af405cf226209">mIa</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ae6dc1329a8ecbda86c286e239256de29">mIb</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa15d6ea8d20627ce7d3d4526fd77a9a1">mIc</a>;</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span> </div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>  mEsh_vbr =</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>      (<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a6f1880c506b5c5d4884e8091607cb117">mResistanceMat</a> - (2 / (<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a0d28bf11b4b5dd9f4b86e9f409d136a7">mTimeStep</a> * <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ab69a67ff476512700317ee103c4051d3">mBase_OmElec</a>)) * <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a5c581c7232d20f485776e8d38628531e">mDInductanceMat</a>) *</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>          <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a58e805b94f6fa0a8f919d7af3c107c06">mIabc</a> +</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>      <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a60cb6627435eafbef3b03505b4555d8d">mDVabc</a> - <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa2ce795dc253b415b5ffd8d7090e9bd6">mVabc</a>;</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span> </div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>  <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#af8fd6b77ae3390027a8467ee1fc3f40c">CalculateL</a>();</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span> </div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa9e96b9faa22d648a0e3caca3ac1cb48">mPsikq1kq2</a> &lt;&lt; <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1471bd6a58ef11d2e1ca2d51ae83aa62">mPsikq1</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac5de8d7d90dd4d4a8e5ded9e0d015cfc">mPsikq2</a>;</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#af58017d340eaf76e189eba1dfce6aa0d">mPsifdkd</a> &lt;&lt; <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a6e3f30ad83be8665f2dfb991aa3c1445">mPsifd</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a6d2f633bc58776cf1b0e421794c8ae71">mPsikd</a>;</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span> </div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>  CalculateAuxiliarVariables();</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span> </div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a582b417fb968dd97d88a2065ffd3773d">R_eq_vbr</a> =</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>      <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a6f1880c506b5c5d4884e8091607cb117">mResistanceMat</a> + (2 / (<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a0d28bf11b4b5dd9f4b86e9f409d136a7">mTimeStep</a> * <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ab69a67ff476512700317ee103c4051d3">mBase_OmElec</a>)) * <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a5c581c7232d20f485776e8d38628531e">mDInductanceMat</a> + K;</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a6d806f2eda8316600adcc16d844c25af">E_eq_vbr</a> = mEsh_vbr + E_r_vbr;</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span> </div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>  MatrixFixedSize&lt;3, 3&gt; R_eq_vbr_mBase_Z = <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a582b417fb968dd97d88a2065ffd3773d">R_eq_vbr</a> * <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a6d0af7de4f71f445986ad16049d65128">mBase_Z</a>;</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span> </div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a361779cba8a20670da21896a1031ff5b">mConductanceMat</a> = R_eq_vbr_mBase_Z.inverse();</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#abf05972584bf4c616713d4226f5e1efa">mISourceEq</a> = <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a582b417fb968dd97d88a2065ffd3773d">R_eq_vbr</a>.inverse() * <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a6d806f2eda8316600adcc16d844c25af">E_eq_vbr</a> * <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a252ecc59be9dfadb9dde6d74c018780d">mBase_I</a>;</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>}</div>
</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span> </div>
<div class="foldopen" id="foldopen00325" data-start="{" data-end="}">
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno"><a class="line" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a60fa88f3bbc7fb139a9d1f278def864d">  325</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a60fa88f3bbc7fb139a9d1f278def864d">EMT::Ph3::SynchronGeneratorVBR::mnaCompPostStep</a>(</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>    Real time, Int timeStepCount, Attribute&lt;Matrix&gt;::Ptr &amp;leftVector) {</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>  <span class="keywordflow">if</span> (terminalNotGrounded(0)) {</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>    <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a463597be77244e7af701c7090362e581">mVa</a> = Math::realFromVectorElement(*leftVector, matrixNodeIndex(0, 0)) /</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>          <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ad4ae7afe556b5ccfa16e60862ee14540">mBase_V</a>;</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>    <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aaac94db0d6f994ba483ae28434b9cc44">mVb</a> = Math::realFromVectorElement(*leftVector, matrixNodeIndex(0, 1)) /</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>          <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ad4ae7afe556b5ccfa16e60862ee14540">mBase_V</a>;</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>    <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a0a0e2948a571d7d7bd3896b4d0075b70">mVc</a> = Math::realFromVectorElement(*leftVector, matrixNodeIndex(0, 2)) /</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>          <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ad4ae7afe556b5ccfa16e60862ee14540">mBase_V</a>;</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>    <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a463597be77244e7af701c7090362e581">mVa</a> = 0;</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>    <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aaac94db0d6f994ba483ae28434b9cc44">mVb</a> = 0;</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>    <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a0a0e2948a571d7d7bd3896b4d0075b70">mVc</a> = 0;</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>  }</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span> </div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>  <span class="comment">// ################ Update machine stator and rotor variables ############################</span></div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa2ce795dc253b415b5ffd8d7090e9bd6">mVabc</a> &lt;&lt; <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a463597be77244e7af701c7090362e581">mVa</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aaac94db0d6f994ba483ae28434b9cc44">mVb</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a0a0e2948a571d7d7bd3896b4d0075b70">mVc</a>;</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span> </div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a2e23e59787357a312c54c32020275990">mVq</a> = <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac187458b924beaac90cc105166a7d7d6">parkTransform</a>(<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a463597be77244e7af701c7090362e581">mVa</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aaac94db0d6f994ba483ae28434b9cc44">mVb</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a0a0e2948a571d7d7bd3896b4d0075b70">mVc</a>)(0);</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#afa6f2f502767f284dfc7829f9cfa3d15">mVd</a> = <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac187458b924beaac90cc105166a7d7d6">parkTransform</a>(<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a463597be77244e7af701c7090362e581">mVa</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aaac94db0d6f994ba483ae28434b9cc44">mVb</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a0a0e2948a571d7d7bd3896b4d0075b70">mVc</a>)(1);</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a2e512dff1f08274fa68d41913942bed5">mV0</a> = <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac187458b924beaac90cc105166a7d7d6">parkTransform</a>(<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a463597be77244e7af701c7090362e581">mVa</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aaac94db0d6f994ba483ae28434b9cc44">mVb</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a0a0e2948a571d7d7bd3896b4d0075b70">mVc</a>)(2);</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span> </div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a2bb894751b16a6742c20a5fb1a1bbe85">mHasExciter</a>) {</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>    <span class="comment">// Get exciter output voltage</span></div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>    <span class="comment">// Note: scaled by Rfd/Lmd to transform from exciter pu system</span></div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>    <span class="comment">// to the synchronous generator pu system</span></div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>    <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aee90424ea4586251101e046aa1329ac8">mVfd</a> = (<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#aa43d2c670dffe9c37c3b2befb32c1933">mRfd</a> / <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a24bd33b8a66712cc7ef207a91f8b5601">mLmd</a>) * <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a337b841aa6c0f367ded9c2abe22a10f4">mExciter</a>-&gt;step(<a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#afa6f2f502767f284dfc7829f9cfa3d15">mVd</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a2e23e59787357a312c54c32020275990">mVq</a>, <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a0d28bf11b4b5dd9f4b86e9f409d136a7">mTimeStep</a>);</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>  }</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a58e805b94f6fa0a8f919d7af3c107c06">mIabc</a> = <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a582b417fb968dd97d88a2065ffd3773d">R_eq_vbr</a>.inverse() * (<a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa2ce795dc253b415b5ffd8d7090e9bd6">mVabc</a> - <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a6d806f2eda8316600adcc16d844c25af">E_eq_vbr</a>);</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span> </div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1cbb26a3a3eb75d8f73af405cf226209">mIa</a> = <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a58e805b94f6fa0a8f919d7af3c107c06">mIabc</a>(0);</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ae6dc1329a8ecbda86c286e239256de29">mIb</a> = <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a58e805b94f6fa0a8f919d7af3c107c06">mIabc</a>(1);</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa15d6ea8d20627ce7d3d4526fd77a9a1">mIc</a> = <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a58e805b94f6fa0a8f919d7af3c107c06">mIabc</a>(2);</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span> </div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a87a51b070d15fe060d43c087c6637769">mIq_hist</a> = <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a74517259dc7b77bcd43e822f76c2eedf">mIq</a>;</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a60207bce794761a5d8c7420f069175bc">mId_hist</a> = <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac7439c6982a917ddf4cac3373b3eded4">mId</a>;</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span> </div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a74517259dc7b77bcd43e822f76c2eedf">mIq</a> = <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac187458b924beaac90cc105166a7d7d6">parkTransform</a>(<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1cbb26a3a3eb75d8f73af405cf226209">mIa</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ae6dc1329a8ecbda86c286e239256de29">mIb</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa15d6ea8d20627ce7d3d4526fd77a9a1">mIc</a>)(0);</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac7439c6982a917ddf4cac3373b3eded4">mId</a> = <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac187458b924beaac90cc105166a7d7d6">parkTransform</a>(<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1cbb26a3a3eb75d8f73af405cf226209">mIa</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ae6dc1329a8ecbda86c286e239256de29">mIb</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa15d6ea8d20627ce7d3d4526fd77a9a1">mIc</a>)(1);</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#acaff227ed289d71bfc78b2f25b114db1">mI0</a> = <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac187458b924beaac90cc105166a7d7d6">parkTransform</a>(<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1cbb26a3a3eb75d8f73af405cf226209">mIa</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ae6dc1329a8ecbda86c286e239256de29">mIb</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa15d6ea8d20627ce7d3d4526fd77a9a1">mIc</a>)(2);</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span> </div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>  <span class="comment">// Calculate rotor flux likanges</span></div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ad3d3c246dac87ab59173cda6843d8773">mNumDampingWindings</a> == 2) {</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>    <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa6e6c3a8da9eb48c476466af2f38216e">mDqStatorCurrents</a> &lt;&lt; <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a74517259dc7b77bcd43e822f76c2eedf">mIq</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac7439c6982a917ddf4cac3373b3eded4">mId</a>;</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span> </div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>    <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa9e96b9faa22d648a0e3caca3ac1cb48">mPsikq1kq2</a> = E1 * <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a74517259dc7b77bcd43e822f76c2eedf">mIq</a> + E2 * <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa9e96b9faa22d648a0e3caca3ac1cb48">mPsikq1kq2</a> + E1 * <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a87a51b070d15fe060d43c087c6637769">mIq_hist</a>;</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>    <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#af58017d340eaf76e189eba1dfce6aa0d">mPsifdkd</a> = F1 * <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac7439c6982a917ddf4cac3373b3eded4">mId</a> + F2 * <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#af58017d340eaf76e189eba1dfce6aa0d">mPsifdkd</a> + F1 * <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a60207bce794761a5d8c7420f069175bc">mId_hist</a> + F3 * <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aee90424ea4586251101e046aa1329ac8">mVfd</a>;</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span> </div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>    <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1471bd6a58ef11d2e1ca2d51ae83aa62">mPsikq1</a> = <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa9e96b9faa22d648a0e3caca3ac1cb48">mPsikq1kq2</a>(0);</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>    <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac5de8d7d90dd4d4a8e5ded9e0d015cfc">mPsikq2</a> = <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa9e96b9faa22d648a0e3caca3ac1cb48">mPsikq1kq2</a>(1);</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>    <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a6e3f30ad83be8665f2dfb991aa3c1445">mPsifd</a> = <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#af58017d340eaf76e189eba1dfce6aa0d">mPsifdkd</a>(0);</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>    <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a6d2f633bc58776cf1b0e421794c8ae71">mPsikd</a> = <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#af58017d340eaf76e189eba1dfce6aa0d">mPsifdkd</a>(1);</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span> </div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span> </div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>    <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa6e6c3a8da9eb48c476466af2f38216e">mDqStatorCurrents</a> &lt;&lt; <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a74517259dc7b77bcd43e822f76c2eedf">mIq</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac7439c6982a917ddf4cac3373b3eded4">mId</a>;</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span> </div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>    <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1471bd6a58ef11d2e1ca2d51ae83aa62">mPsikq1</a> = E1_1d * <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a74517259dc7b77bcd43e822f76c2eedf">mIq</a> + E2_1d * <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1471bd6a58ef11d2e1ca2d51ae83aa62">mPsikq1</a> + E1_1d * <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a87a51b070d15fe060d43c087c6637769">mIq_hist</a>;</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>    <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#af58017d340eaf76e189eba1dfce6aa0d">mPsifdkd</a> = F1 * <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac7439c6982a917ddf4cac3373b3eded4">mId</a> + F2 * <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#af58017d340eaf76e189eba1dfce6aa0d">mPsifdkd</a> + F1 * <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a60207bce794761a5d8c7420f069175bc">mId_hist</a> + F3 * <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aee90424ea4586251101e046aa1329ac8">mVfd</a>;</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span> </div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>    <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a6e3f30ad83be8665f2dfb991aa3c1445">mPsifd</a> = <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#af58017d340eaf76e189eba1dfce6aa0d">mPsifdkd</a>(0);</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>    <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a6d2f633bc58776cf1b0e421794c8ae71">mPsikd</a> = <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#af58017d340eaf76e189eba1dfce6aa0d">mPsifdkd</a>(1);</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>  }</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span> </div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>  <span class="comment">// Calculate dynamic flux likages</span></div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ad3d3c246dac87ab59173cda6843d8773">mNumDampingWindings</a> == 2) {</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>    <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ab55652fc77e71b8e170cc0113d386821">mPsimq</a> = <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a4cfe2f91d745056839ddf4e51e4a144a">mDLmq</a> * (<a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1471bd6a58ef11d2e1ca2d51ae83aa62">mPsikq1</a> / <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a838be0e6f5c0db826731a16a64933b1b">mLlkq1</a> + <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac5de8d7d90dd4d4a8e5ded9e0d015cfc">mPsikq2</a> / <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ae763f40db95fd7493a5490432c53e1df">mLlkq2</a> + <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a74517259dc7b77bcd43e822f76c2eedf">mIq</a>);</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>    <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ab55652fc77e71b8e170cc0113d386821">mPsimq</a> = <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a4cfe2f91d745056839ddf4e51e4a144a">mDLmq</a> * (<a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1471bd6a58ef11d2e1ca2d51ae83aa62">mPsikq1</a> / <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a838be0e6f5c0db826731a16a64933b1b">mLlkq1</a> + <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a74517259dc7b77bcd43e822f76c2eedf">mIq</a>);</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>  }</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span> </div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a2b89c4a7d2def9381cd524965aad3d1d">mPsimd</a> = <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ab04c56991057e064caa7023997bf9714">mDLmd</a> * (<a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a6e3f30ad83be8665f2dfb991aa3c1445">mPsifd</a> / <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a5c03e5795c973a5a2af98f311f075db8">mLlfd</a> + <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a6d2f633bc58776cf1b0e421794c8ae71">mPsikd</a> / <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a64df291a8d539be4ff01c2d36ba58b1a">mLlkd</a> + <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac7439c6982a917ddf4cac3373b3eded4">mId</a>);</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span> </div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>  K1K2 &lt;&lt; K1, K2;</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a9e24e16efb5707fafa90bf0f22d95289">mDVqd</a> = K1K2 * <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa6e6c3a8da9eb48c476466af2f38216e">mDqStatorCurrents</a> + h_qdr;</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a95ae84740db3c2ddf4aee2f630e38fd6">mDVq</a> = <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a9e24e16efb5707fafa90bf0f22d95289">mDVqd</a>(0);</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ad9ba87afa324527d279ce31917bfac58">mDVd</a> = <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a9e24e16efb5707fafa90bf0f22d95289">mDVqd</a>(1);</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span> </div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a926ec8279ef26c445b39127d4adbe994">mDVa</a> = <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a8eedde8742359fac3ed8a9a72f18cf98">inverseParkTransform</a>(<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a95ae84740db3c2ddf4aee2f630e38fd6">mDVq</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ad9ba87afa324527d279ce31917bfac58">mDVd</a>, 0)(0);</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac8d901d89e27380e495f35ffa826828c">mDVb</a> = <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a8eedde8742359fac3ed8a9a72f18cf98">inverseParkTransform</a>(<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a95ae84740db3c2ddf4aee2f630e38fd6">mDVq</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ad9ba87afa324527d279ce31917bfac58">mDVd</a>, 0)(1);</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ada4d439dbb4cd03158e794b3815b95d0">mDVc</a> = <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a8eedde8742359fac3ed8a9a72f18cf98">inverseParkTransform</a>(<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a95ae84740db3c2ddf4aee2f630e38fd6">mDVq</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ad9ba87afa324527d279ce31917bfac58">mDVd</a>, 0)(2);</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a60cb6627435eafbef3b03505b4555d8d">mDVabc</a> &lt;&lt; <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a926ec8279ef26c445b39127d4adbe994">mDVa</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac8d901d89e27380e495f35ffa826828c">mDVb</a>, <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ada4d439dbb4cd03158e794b3815b95d0">mDVc</a>;</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span> </div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>  **<a class="code hl_variable" href="class_c_p_s_1_1_sim_power_comp.html#a7210276935119e370dfb1f98d02c3a9a">mIntfVoltage</a> = <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa2ce795dc253b415b5ffd8d7090e9bd6">mVabc</a> * <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ad4ae7afe556b5ccfa16e60862ee14540">mBase_V</a>;</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>  **<a class="code hl_variable" href="class_c_p_s_1_1_sim_power_comp.html#a141d3e207fff12a4808e3f562a99fda1">mIntfCurrent</a> = <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a58e805b94f6fa0a8f919d7af3c107c06">mIabc</a> * <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a252ecc59be9dfadb9dde6d74c018780d">mBase_I</a>;</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>}</div>
</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span> </div>
<div class="foldopen" id="foldopen00412" data-start="{" data-end="}">
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno"><a class="line" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#abfa253ea65143b7c36dd5db6f52cdfd8">  412</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#abfa253ea65143b7c36dd5db6f52cdfd8">EMT::Ph3::SynchronGeneratorVBR::mnaCompAddPostStepDependencies</a>(</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>    AttributeBase::List &amp;prevStepDependencies,</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>    AttributeBase::List &amp;attributeDependencies,</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>    AttributeBase::List &amp;modifiedAttributes,</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>    Attribute&lt;Matrix&gt;::Ptr &amp;leftVector) {</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>  <span class="comment">// add post-step dependencies of component itself</span></div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>  attributeDependencies.push_back(leftVector);</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>  modifiedAttributes.push_back(<a class="code hl_variable" href="class_c_p_s_1_1_sim_power_comp.html#a7210276935119e370dfb1f98d02c3a9a">mIntfVoltage</a>);</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>  modifiedAttributes.push_back(<a class="code hl_variable" href="class_c_p_s_1_1_sim_power_comp.html#a141d3e207fff12a4808e3f562a99fda1">mIntfCurrent</a>);</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>}</div>
</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span> </div>
<div class="foldopen" id="foldopen00423" data-start="{" data-end="}">
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno"><a class="line" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#af8fd6b77ae3390027a8467ee1fc3f40c">  423</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#af8fd6b77ae3390027a8467ee1fc3f40c">EMT::Ph3::SynchronGeneratorVBR::CalculateL</a>() {</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>  <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a5c581c7232d20f485776e8d38628531e">mDInductanceMat</a> &lt;&lt; **<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ab84b0e161919799fb1bb06c73b7cf205">mLl</a> + <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a4e7869f6d49611c0849d8d8eccc2a74e">mLa</a> - <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1021f798a24af4df76c886bebaa0a1f0">mLb</a> * cos(2 * <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a>),</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>      -<a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a4e7869f6d49611c0849d8d8eccc2a74e">mLa</a> / 2 - <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1021f798a24af4df76c886bebaa0a1f0">mLb</a> * cos(2 * <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a> - 2 * PI / 3),</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>      -<a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a4e7869f6d49611c0849d8d8eccc2a74e">mLa</a> / 2 - <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1021f798a24af4df76c886bebaa0a1f0">mLb</a> * cos(2 * <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a> + 2 * PI / 3),</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>      -<a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a4e7869f6d49611c0849d8d8eccc2a74e">mLa</a> / 2 - <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1021f798a24af4df76c886bebaa0a1f0">mLb</a> * cos(2 * <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a> - 2 * PI / 3),</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>      **<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ab84b0e161919799fb1bb06c73b7cf205">mLl</a> + <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a4e7869f6d49611c0849d8d8eccc2a74e">mLa</a> - <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1021f798a24af4df76c886bebaa0a1f0">mLb</a> * cos(2 * <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a> - 4 * PI / 3),</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>      -<a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a4e7869f6d49611c0849d8d8eccc2a74e">mLa</a> / 2 - <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1021f798a24af4df76c886bebaa0a1f0">mLb</a> * cos(2 * <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a>),</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>      -<a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a4e7869f6d49611c0849d8d8eccc2a74e">mLa</a> / 2 - <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1021f798a24af4df76c886bebaa0a1f0">mLb</a> * cos(2 * <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a> + 2 * PI / 3),</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>      -<a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a4e7869f6d49611c0849d8d8eccc2a74e">mLa</a> / 2 - <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1021f798a24af4df76c886bebaa0a1f0">mLb</a> * cos(2 * <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a>),</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>      **<a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ab84b0e161919799fb1bb06c73b7cf205">mLl</a> + <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a4e7869f6d49611c0849d8d8eccc2a74e">mLa</a> - <a class="code hl_variable" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1021f798a24af4df76c886bebaa0a1f0">mLb</a> * cos(2 * <a class="code hl_variable" href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">mThetaMech</a> + 4 * PI / 3);</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>}</div>
</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span> </div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span><span class="keywordtype">void</span> EMT::Ph3::SynchronGeneratorVBR::CalculateAuxiliarConstants(Real dt) {</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span> </div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>  b11 = (mRkq1 / mLlkq1) * (mDLmq / mLlkq1 - 1);</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>  b13 = mRkq1 * mDLmq / mLlkq1;</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>  b31 = (mRfd / mLlfd) * (mDLmd / mLlfd - 1);</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>  b32 = mRfd * mDLmd / (mLlfd * mLlkd);</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>  b33 = mRfd * mDLmd / mLlfd;</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>  b41 = mRkd * mDLmd / (mLlfd * mLlkd);</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>  b42 = (mRkd / mLlkd) * (mDLmd / mLlkd - 1);</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>  b43 = mRkd * mDLmd / mLlkd;</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span> </div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>  c23 = mDLmd * mRfd / (mLlfd * mLlfd) * (mDLmd / mLlfd - 1) +</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>        mDLmd * mDLmd * mRkd / (mLlkd * mLlkd * mLlfd);</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>  c24 = mDLmd * mRkd / (mLlkd * mLlkd) * (mDLmd / mLlkd - 1) +</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>        mDLmd * mDLmd * mRfd / (mLlfd * mLlfd * mLlkd);</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>  c25 = (mRfd / (mLlfd * mLlfd) + mRkd / (mLlkd * mLlkd)) * mDLmd * mDLmd;</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>  c26 = mDLmd / mLlfd;</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span> </div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>  <span class="keywordflow">if</span> (mNumDampingWindings == 2) {</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>    b12 = mRkq1 * mDLmq / (mLlkq1 * mLlkq2);</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>    b21 = mRkq2 * mDLmq / (mLlkq1 * mLlkq2);</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>    b22 = (mRkq2 / mLlkq2) * (mDLmq / mLlkq2 - 1);</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>    b23 = mRkq2 * mDLmq / mLlkq2;</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>    c11 = mDLmq * mRkq1 / (mLlkq1 * mLlkq1) * (mDLmq / mLlkq1 - 1) +</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>          mDLmq * mDLmq * mRkq2 / (mLlkq2 * mLlkq2 * mLlkq1);</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>    c12 = mDLmq * mRkq2 / (mLlkq2 * mLlkq2) * (mDLmq / mLlkq2 - 1) +</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>          mDLmq * mDLmq * mRkq1 / (mLlkq1 * mLlkq1 * mLlkq2);</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>    c15 =</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>        (mRkq1 / (mLlkq1 * mLlkq1) + mRkq2 / (mLlkq2 * mLlkq2)) * mDLmq * mDLmq;</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span> </div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>    Ea &lt;&lt; 2 - dt * b11, -dt * b12, -dt * b21, 2 - dt * b22;</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>    E1b &lt;&lt; dt * b13, dt * b23;</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span> </div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>    Matrix Ea_inv = Ea.inverse();</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span> </div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>    E1 = Ea_inv * E1b;</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span> </div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>    E2b &lt;&lt; 2 + dt * b11, dt * b12, dt * b21, 2 + dt * b22;</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>    E2 = Ea_inv * E2b;</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>    c11 = mDLmq * mRkq1 / (mLlkq1 * mLlkq1) * (mDLmq / mLlkq1 - 1);</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>    c15 = (mRkq1 / (mLlkq1 * mLlkq1)) * mDLmq * mDLmq;</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span> </div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>    E1_1d = (1 / (2 - dt * b11)) * dt * b13;</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>    E2_1d = (1 / (2 - dt * b11)) * (2 + dt * b11);</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>  }</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span> </div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>  Fa &lt;&lt; 2 - dt * b31, -dt * b32, -dt * b41, 2 - dt * b42;</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span> </div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>  F1b &lt;&lt; dt * b33, dt * b43;</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>  F1 = Fa.inverse() * F1b;</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span> </div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>  F2b &lt;&lt; 2 + dt * b31, dt * b32, dt * b41, 2 + dt * b42;</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span> </div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>  F2 = Fa.inverse() * F2b;</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span> </div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>  F3b &lt;&lt; 2 * dt, 0;</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>  F3 = Fa.inverse() * F3b;</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span> </div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>  C26 &lt;&lt; 0, c26;</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>}</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span> </div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span><span class="keywordtype">void</span> EMT::Ph3::SynchronGeneratorVBR::CalculateAuxiliarVariables() {</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span> </div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>  <span class="keywordflow">if</span> (mNumDampingWindings == 2) {</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>    c21_omega = -**mOmMech * mDLmq / mLlkq1;</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>    c22_omega = -**mOmMech * mDLmq / mLlkq2;</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>    c13_omega = **mOmMech * mDLmd / mLlfd;</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>    c14_omega = **mOmMech * mDLmd / mLlkd;</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span> </div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>    K1a &lt;&lt; c11, c12, c21_omega, c22_omega;</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>    K1b &lt;&lt; c15, 0;</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>    K1 = K1a * E1 + K1b;</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>    c21_omega = -**mOmMech * mDLmq / mLlkq1;</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>    c13_omega = **mOmMech * mDLmd / mLlfd;</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>    c14_omega = **mOmMech * mDLmd / mLlkd;</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span> </div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>    K1a &lt;&lt; c11, c21_omega;</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>    K1b &lt;&lt; c15, 0;</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>    K1 = K1a * E1_1d + K1b;</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>  }</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span> </div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>  K2a &lt;&lt; c13_omega, c14_omega, c23, c24;</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>  K2b &lt;&lt; 0, c25;</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>  K2 = K2a * F1 + K2b;</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span> </div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>  K &lt;&lt; K1, K2, Matrix::Zero(2, 1), 0, 0, 0;</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span> </div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>  mKrs_teta &lt;&lt; 2. / 3. * cos(mThetaMech),</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>      2. / 3. * cos(mThetaMech - 2. * M_PI / 3.),</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>      2. / 3. * cos(mThetaMech + 2. * M_PI / 3.), 2. / 3. * sin(mThetaMech),</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>      2. / 3. * sin(mThetaMech - 2. * M_PI / 3.),</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>      2. / 3. * sin(mThetaMech + 2. * M_PI / 3.), 1. / 3., 1. / 3., 1. / 3.;</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span> </div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>  mKrs_teta_inv &lt;&lt; cos(mThetaMech), sin(mThetaMech), 1.,</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>      cos(mThetaMech - 2. * M_PI / 3.), sin(mThetaMech - 2. * M_PI / 3.), 1,</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>      cos(mThetaMech + 2. * M_PI / 3.), sin(mThetaMech + 2. * M_PI / 3.), 1.;</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span> </div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>  K = mKrs_teta_inv * K * mKrs_teta;</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span> </div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>  <span class="keywordflow">if</span> (mNumDampingWindings == 2)</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>    h_qdr = K1a * E2 * mPsikq1kq2 + K1a * E1 * mIq + K2a * F2 * mPsifdkd +</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>            K2a * F1 * mId + (K2a * F3 + C26) * mVfd;</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>  <span class="keywordflow">else</span></div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>    h_qdr = K1a * E2_1d * mPsikq1 + K1a * E1_1d * mIq + K2a * F2 * mPsifdkd +</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>            K2a * F1 * mId + (K2a * F3 + C26) * mVfd;</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span> </div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>  H_qdr &lt;&lt; h_qdr, 0;</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span> </div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>  E_r_vbr = mKrs_teta_inv * H_qdr;</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>}</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span> </div>
<div class="foldopen" id="foldopen00548" data-start="{" data-end="}">
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno"><a class="line" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac187458b924beaac90cc105166a7d7d6">  548</a></span>Matrix <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac187458b924beaac90cc105166a7d7d6">EMT::Ph3::SynchronGeneratorVBR::parkTransform</a>(Real theta, Real a, Real b,</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>                                                     Real c) {</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span> </div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>  Matrix dq0vector(3, 1);</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span> </div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>  Real q, d, zero;</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span> </div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>  q = 2. / 3. * cos(theta) * a + 2. / 3. * cos(theta - 2. * M_PI / 3.) * b +</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>      2. / 3. * cos(theta + 2. * M_PI / 3.) * c;</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>  d = 2. / 3. * sin(theta) * a + 2. / 3. * sin(theta - 2. * M_PI / 3.) * b +</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>      2. / 3. * sin(theta + 2. * M_PI / 3.) * c;</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>  zero = 1. / 3. * a + 1. / 3. * b + 1. / 3. * c;</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span> </div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>  dq0vector &lt;&lt; q, d, zero;</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span> </div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>  <span class="keywordflow">return</span> dq0vector;</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>}</div>
</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span> </div>
<div class="foldopen" id="foldopen00566" data-start="{" data-end="}">
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno"><a class="line" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a8eedde8742359fac3ed8a9a72f18cf98">  566</a></span>Matrix <a class="code hl_function" href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a8eedde8742359fac3ed8a9a72f18cf98">EMT::Ph3::SynchronGeneratorVBR::inverseParkTransform</a>(Real theta, Real q,</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>                                                            Real d, Real zero) {</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span> </div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>  Matrix abcVector(3, 1);</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span> </div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>  Real a, b, c;</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span> </div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>  a = cos(theta) * q + sin(theta) * d + 1. * zero;</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>  b = cos(theta - 2. * M_PI / 3.) * q + sin(theta - 2. * M_PI / 3.) * d +</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>      1. * zero;</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>  c = cos(theta + 2. * M_PI / 3.) * q + sin(theta + 2. * M_PI / 3.) * d +</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>      1. * zero;</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span> </div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>  abcVector &lt;&lt; a, b, c;</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span> </div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>  <span class="keywordflow">return</span> abcVector;</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>}</div>
</div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_a03f4a70f1d448200321dc0fdf0a01981"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a03f4a70f1d448200321dc0fdf0a01981">CPS::Base::SynchronGenerator::mIsr</a></div><div class="ttdeci">Matrix mIsr</div><div class="ttdoc">Vector of stator and rotor currents.</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00219">Base_SynchronGenerator.h:219</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_a0d28bf11b4b5dd9f4b86e9f409d136a7"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a0d28bf11b4b5dd9f4b86e9f409d136a7">CPS::Base::SynchronGenerator::mTimeStep</a></div><div class="ttdeci">Real mTimeStep</div><div class="ttdoc">Simulation time step.</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00049">Base_SynchronGenerator.h:49</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_a0f61513fafc98996d8d8bb95dcd1172d"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a0f61513fafc98996d8d8bb95dcd1172d">CPS::Base::SynchronGenerator::mSystemOmega</a></div><div class="ttdeci">Real mSystemOmega</div><div class="ttdoc">Simulation angular system speed.</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00047">Base_SynchronGenerator.h:47</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_a191f3895ece73a54755e6cccb93b55fa"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a191f3895ece73a54755e6cccb93b55fa">CPS::Base::SynchronGenerator::mRkq1</a></div><div class="ttdeci">Real mRkq1</div><div class="ttdoc">q-axis damper resistance 1 Rkq1 [Ohm]</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00092">Base_SynchronGenerator.h:92</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_a24bd33b8a66712cc7ef207a91f8b5601"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a24bd33b8a66712cc7ef207a91f8b5601">CPS::Base::SynchronGenerator::mLmd</a></div><div class="ttdeci">Real mLmd</div><div class="ttdoc">d-axis mutual inductance Lmd [H]</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00074">Base_SynchronGenerator.h:74</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_a252ecc59be9dfadb9dde6d74c018780d"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a252ecc59be9dfadb9dde6d74c018780d">CPS::Base::SynchronGenerator::mBase_I</a></div><div class="ttdeci">Real mBase_I</div><div class="ttdoc">base stator current peak</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00144">Base_SynchronGenerator.h:144</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_a26979017f3a1afeff72d962903396dce"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a26979017f3a1afeff72d962903396dce">CPS::Base::SynchronGenerator::mThetaMech</a></div><div class="ttdeci">Real mThetaMech</div><div class="ttdoc">theta</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00179">Base_SynchronGenerator.h:179</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_a2bb894751b16a6742c20a5fb1a1bbe85"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a2bb894751b16a6742c20a5fb1a1bbe85">CPS::Base::SynchronGenerator::mHasExciter</a></div><div class="ttdeci">Bool mHasExciter</div><div class="ttdoc">Determines if Exciter is activated.</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00266">Base_SynchronGenerator.h:266</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_a337b841aa6c0f367ded9c2abe22a10f4"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a337b841aa6c0f367ded9c2abe22a10f4">CPS::Base::SynchronGenerator::mExciter</a></div><div class="ttdeci">std::shared_ptr&lt; Signal::Exciter &gt; mExciter</div><div class="ttdoc">Signal component modelling voltage regulator and exciter.</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00365">Base_SynchronGenerator.h:365</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_a35b09d0fe8c40f4aa2a267c21dce6210"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a35b09d0fe8c40f4aa2a267c21dce6210">CPS::Base::SynchronGenerator::mMechTorque</a></div><div class="ttdeci">const Attribute&lt; Real &gt;::Ptr mMechTorque</div><div class="ttdoc">mechanical torque</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00185">Base_SynchronGenerator.h:185</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_a3b11ffdfcd99c239f2fe63a15ca4b090"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a3b11ffdfcd99c239f2fe63a15ca4b090">CPS::Base::SynchronGenerator::mLmq</a></div><div class="ttdeci">Real mLmq</div><div class="ttdoc">q-axis mutual inductance Lmq [H]</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00076">Base_SynchronGenerator.h:76</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_a456dfa6f189c9f7a321de9c1b3feea16"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a456dfa6f189c9f7a321de9c1b3feea16">CPS::Base::SynchronGenerator::SynchronGenerator</a></div><div class="ttdeci">SynchronGenerator(CPS::AttributeList::Ptr attributeList)</div><div class="ttdoc">Constructor.</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00273">Base_SynchronGenerator.h:273</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_a5c03e5795c973a5a2af98f311f075db8"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a5c03e5795c973a5a2af98f311f075db8">CPS::Base::SynchronGenerator::mLlfd</a></div><div class="ttdeci">Real mLlfd</div><div class="ttdoc">field leakage inductance Llfd [H]</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00080">Base_SynchronGenerator.h:80</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_a5d7b2a2ff18c4674897f1b66499d2f04"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a5d7b2a2ff18c4674897f1b66499d2f04">CPS::Base::SynchronGenerator::mInitialValuesSet</a></div><div class="ttdeci">Bool mInitialValuesSet</div><div class="ttdoc">Flag to remember when initial values are set.</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00055">Base_SynchronGenerator.h:55</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_a64df291a8d539be4ff01c2d36ba58b1a"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a64df291a8d539be4ff01c2d36ba58b1a">CPS::Base::SynchronGenerator::mLlkd</a></div><div class="ttdeci">Real mLlkd</div><div class="ttdoc">d-axis damper leakage inductance Llkd [H]</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00088">Base_SynchronGenerator.h:88</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_a66db7a71580419f6f442557ae1de4b49"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a66db7a71580419f6f442557ae1de4b49">CPS::Base::SynchronGenerator::mVsr</a></div><div class="ttdeci">Matrix mVsr</div><div class="ttdoc">Vector of stator and rotor voltages.</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00209">Base_SynchronGenerator.h:209</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_a6758651ec90e32ca2e11b96dfa89b646"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a6758651ec90e32ca2e11b96dfa89b646">CPS::Base::SynchronGenerator::mPsisr</a></div><div class="ttdeci">Matrix mPsisr</div><div class="ttdoc">Vector of stator and rotor fluxes.</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00229">Base_SynchronGenerator.h:229</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_a6d0af7de4f71f445986ad16049d65128"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a6d0af7de4f71f445986ad16049d65128">CPS::Base::SynchronGenerator::mBase_Z</a></div><div class="ttdeci">Real mBase_Z</div><div class="ttdoc">base stator impedance</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00148">Base_SynchronGenerator.h:148</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_a6dd247e72aa169d0aadd03655def5f44"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a6dd247e72aa169d0aadd03655def5f44">CPS::Base::SynchronGenerator::mRs</a></div><div class="ttdeci">const Attribute&lt; Real &gt;::Ptr mRs</div><div class="ttdoc">stator resistance Rs [Ohm]</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00106">Base_SynchronGenerator.h:106</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_a6f1880c506b5c5d4884e8091607cb117"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a6f1880c506b5c5d4884e8091607cb117">CPS::Base::SynchronGenerator::mResistanceMat</a></div><div class="ttdeci">Matrix mResistanceMat</div><div class="ttdoc">resistance matrix</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00173">Base_SynchronGenerator.h:173</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_a7dfc2903c3a1760be272b39a999c2d3b"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a7dfc2903c3a1760be272b39a999c2d3b">CPS::Base::SynchronGenerator::mTurbineGovernor</a></div><div class="ttdeci">std::shared_ptr&lt; Signal::TurbineGovernor &gt; mTurbineGovernor</div><div class="ttdoc">Signal component modelling governor control and steam turbine.</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00363">Base_SynchronGenerator.h:363</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_a838be0e6f5c0db826731a16a64933b1b"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a838be0e6f5c0db826731a16a64933b1b">CPS::Base::SynchronGenerator::mLlkq1</a></div><div class="ttdeci">Real mLlkq1</div><div class="ttdoc">q-axis damper leakage inductance 1 Llkq1 [H]</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00094">Base_SynchronGenerator.h:94</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_a9ac3b83196f52f4014e8476485b38f60"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a9ac3b83196f52f4014e8476485b38f60">CPS::Base::SynchronGenerator::setBaseAndFundamentalPerUnitParameters</a></div><div class="ttdeci">void setBaseAndFundamentalPerUnitParameters(Real nomPower, Real nomVolt, Real nomFreq, Real nomFieldCur, Int poleNumber, Real Rs, Real Ll, Real Lmd, Real Lmq, Real Rfd, Real Llfd, Real Rkd, Real Llkd, Real Rkq1, Real Llkq1, Real Rkq2, Real Llkq2, Real inertia)</div><div class="ttdoc">Initializes the base and fundamental machine parameters in per unit.</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8cpp_source.html#l00042">Base_SynchronGenerator.cpp:42</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_a9c81ef24ac07315f894ac8427f52bbf5"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#a9c81ef24ac07315f894ac8427f52bbf5">CPS::Base::SynchronGenerator::mRkd</a></div><div class="ttdeci">Real mRkd</div><div class="ttdoc">d-axis damper resistance Rkd [Ohm]</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00086">Base_SynchronGenerator.h:86</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_aa43d2c670dffe9c37c3b2befb32c1933"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#aa43d2c670dffe9c37c3b2befb32c1933">CPS::Base::SynchronGenerator::mRfd</a></div><div class="ttdeci">Real mRfd</div><div class="ttdoc">field resistance Rfd [Ohm]</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00078">Base_SynchronGenerator.h:78</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_ab69a67ff476512700317ee103c4051d3"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ab69a67ff476512700317ee103c4051d3">CPS::Base::SynchronGenerator::mBase_OmElec</a></div><div class="ttdeci">Real mBase_OmElec</div><div class="ttdoc">base electrical angular frequency</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00150">Base_SynchronGenerator.h:150</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_ab84b0e161919799fb1bb06c73b7cf205"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ab84b0e161919799fb1bb06c73b7cf205">CPS::Base::SynchronGenerator::mLl</a></div><div class="ttdeci">const Attribute&lt; Real &gt;::Ptr mLl</div><div class="ttdoc">leakage inductance Ll [H]</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00108">Base_SynchronGenerator.h:108</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_abe2b767d31048ccca010e6568c4a1474"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#abe2b767d31048ccca010e6568c4a1474">CPS::Base::SynchronGenerator::initPerUnitStates</a></div><div class="ttdeci">void initPerUnitStates()</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8cpp_source.html#l00227">Base_SynchronGenerator.cpp:227</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_abe7cf1e95c0466032435f917715514f0"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#abe7cf1e95c0466032435f917715514f0">CPS::Base::SynchronGenerator::mBase_OmMech</a></div><div class="ttdeci">Real mBase_OmMech</div><div class="ttdoc">base mechanical angular frequency</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00152">Base_SynchronGenerator.h:152</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_acad70b447044e510833e1d01349b1b94"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#acad70b447044e510833e1d01349b1b94">CPS::Base::SynchronGenerator::mRkq2</a></div><div class="ttdeci">Real mRkq2</div><div class="ttdoc">q-axis damper resistance 2 Rkq2 [Ohm]</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00098">Base_SynchronGenerator.h:98</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_ad3d3c246dac87ab59173cda6843d8773"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ad3d3c246dac87ab59173cda6843d8773">CPS::Base::SynchronGenerator::mNumDampingWindings</a></div><div class="ttdeci">Int mNumDampingWindings</div><div class="ttdoc">Number of damping windings in q.</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00069">Base_SynchronGenerator.h:69</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_ad4ae7afe556b5ccfa16e60862ee14540"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ad4ae7afe556b5ccfa16e60862ee14540">CPS::Base::SynchronGenerator::mBase_V</a></div><div class="ttdeci">Real mBase_V</div><div class="ttdoc">base stator voltage (phase-to-ground peak)</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00140">Base_SynchronGenerator.h:140</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_adce23b4a4e0806102a4f496f4024e881"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#adce23b4a4e0806102a4f496f4024e881">CPS::Base::SynchronGenerator::mNomPower</a></div><div class="ttdeci">Real mNomPower</div><div class="ttdoc">nominal power Pn [VA]</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00059">Base_SynchronGenerator.h:59</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_add6ca785d0bfbf120ffc5be2c60545b6"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#add6ca785d0bfbf120ffc5be2c60545b6">CPS::Base::SynchronGenerator::setBaseAndOperationalPerUnitParameters</a></div><div class="ttdeci">void setBaseAndOperationalPerUnitParameters(Real nomPower, Real nomVolt, Real nomFreq, Int poleNumber, Real nomFieldCur, Real Rs, Real Ld, Real Lq, Real Ld_t, Real Lq_t, Real Ld_s, Real Lq_s, Real Ll, Real Td0_t, Real Tq0_t, Real Td0_s, Real Tq0_s, Real inertia)</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8cpp_source.html#l00055">Base_SynchronGenerator.cpp:55</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_ae0e8a4b5f81970dcaa612f632431f721"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ae0e8a4b5f81970dcaa612f632431f721">CPS::Base::SynchronGenerator::mOmMech</a></div><div class="ttdeci">const Attribute&lt; Real &gt;::Ptr mOmMech</div><div class="ttdoc">rotor speed omega_r</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00189">Base_SynchronGenerator.h:189</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_ae418b7ecf3bb81caacd604ca05c45192"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ae418b7ecf3bb81caacd604ca05c45192">CPS::Base::SynchronGenerator::mHasTurbineGovernor</a></div><div class="ttdeci">Bool mHasTurbineGovernor</div><div class="ttdoc">Determines if Turbine and Governor are activated.</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00264">Base_SynchronGenerator.h:264</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_ae763f40db95fd7493a5490432c53e1df"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#ae763f40db95fd7493a5490432c53e1df">CPS::Base::SynchronGenerator::mLlkq2</a></div><div class="ttdeci">Real mLlkq2</div><div class="ttdoc">q-axis damper leakage inductance 2 Llkq2 [H]</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00100">Base_SynchronGenerator.h:100</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_afb1f407ce0e07d53d8d2e20c6feb008f"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#afb1f407ce0e07d53d8d2e20c6feb008f">CPS::Base::SynchronGenerator::mInertia</a></div><div class="ttdeci">const Attribute&lt; Real &gt;::Ptr mInertia</div><div class="ttdoc">inertia constant H [s] for per unit or moment of inertia J [kg*m^2]</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00187">Base_SynchronGenerator.h:187</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_base_1_1_synchron_generator_html_afb80ab1571a4fc891d4669fbc97868d2"><div class="ttname"><a href="class_c_p_s_1_1_base_1_1_synchron_generator.html#afb80ab1571a4fc891d4669fbc97868d2">CPS::Base::SynchronGenerator::mElecTorque</a></div><div class="ttdeci">const Attribute&lt; Real &gt;::Ptr mElecTorque</div><div class="ttdoc">electrical torque</div><div class="ttdef"><b>Definition</b> <a href="_base___synchron_generator_8h_source.html#l00197">Base_SynchronGenerator.h:197</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a0a0e2948a571d7d7bd3896b4d0075b70"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a0a0e2948a571d7d7bd3896b4d0075b70">CPS::EMT::Ph3::SynchronGeneratorVBR::mVc</a></div><div class="ttdeci">Real mVc</div><div class="ttdoc">Interface voltage phase c.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00060">EMT_Ph3_SynchronGeneratorVBR.h:60</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a1021f798a24af4df76c886bebaa0a1f0"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1021f798a24af4df76c886bebaa0a1f0">CPS::EMT::Ph3::SynchronGeneratorVBR::mLb</a></div><div class="ttdeci">Real mLb</div><div class="ttdoc">Auxiliar inductance.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00042">EMT_Ph3_SynchronGeneratorVBR.h:42</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a1416089cf28f20454f387b89cb7c3327"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1416089cf28f20454f387b89cb7c3327">CPS::EMT::Ph3::SynchronGeneratorVBR::SynchronGeneratorVBR</a></div><div class="ttdeci">SynchronGeneratorVBR(String name, String uid, Logger::Level logLevel=Logger::Level::off)</div><div class="ttdoc">Defines UID, name and logging level.</div><div class="ttdef"><b>Definition</b> <a href="#l00016">EMT_Ph3_SynchronGeneratorVBR.cpp:16</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a1471bd6a58ef11d2e1ca2d51ae83aa62"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1471bd6a58ef11d2e1ca2d51ae83aa62">CPS::EMT::Ph3::SynchronGeneratorVBR::mPsikq1</a></div><div class="ttdeci">Real mPsikq1</div><div class="ttdoc">Magnetizing flux linkage 1st damper winding q axis.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00084">EMT_Ph3_SynchronGeneratorVBR.h:84</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a1ad23099a58fc61b4b5729288f27ee51"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1ad23099a58fc61b4b5729288f27ee51">CPS::EMT::Ph3::SynchronGeneratorVBR::setBaseAndFundamentalPerUnitParameters</a></div><div class="ttdeci">void setBaseAndFundamentalPerUnitParameters(Real nomPower, Real nomVolt, Real nomFreq, Int poleNumber, Real nomFieldCur, Real Rs, Real Ll, Real Lmd, Real Lmq, Real Rfd, Real Llfd, Real Rkd, Real Llkd, Real Rkq1, Real Llkq1, Real Rkq2, Real Llkq2, Real inertia)</div><div class="ttdoc">Initializes the base and fundamental machine parameters in per unit.</div><div class="ttdef"><b>Definition</b> <a href="#l00068">EMT_Ph3_SynchronGeneratorVBR.cpp:68</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a1cbb26a3a3eb75d8f73af405cf226209"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a1cbb26a3a3eb75d8f73af405cf226209">CPS::EMT::Ph3::SynchronGeneratorVBR::mIa</a></div><div class="ttdeci">Real mIa</div><div class="ttdoc">Interface curent phase a.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00063">EMT_Ph3_SynchronGeneratorVBR.h:63</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a2b89c4a7d2def9381cd524965aad3d1d"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a2b89c4a7d2def9381cd524965aad3d1d">CPS::EMT::Ph3::SynchronGeneratorVBR::mPsimd</a></div><div class="ttdeci">Real mPsimd</div><div class="ttdoc">Magnetizing flux linkage in d axis.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00094">EMT_Ph3_SynchronGeneratorVBR.h:94</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a2e23e59787357a312c54c32020275990"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a2e23e59787357a312c54c32020275990">CPS::EMT::Ph3::SynchronGeneratorVBR::mVq</a></div><div class="ttdeci">Real mVq</div><div class="ttdoc">Interface voltage q component.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00070">EMT_Ph3_SynchronGeneratorVBR.h:70</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a2e512dff1f08274fa68d41913942bed5"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a2e512dff1f08274fa68d41913942bed5">CPS::EMT::Ph3::SynchronGeneratorVBR::mV0</a></div><div class="ttdeci">Real mV0</div><div class="ttdoc">Interface voltage 0 component.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00074">EMT_Ph3_SynchronGeneratorVBR.h:74</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a361779cba8a20670da21896a1031ff5b"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a361779cba8a20670da21896a1031ff5b">CPS::EMT::Ph3::SynchronGeneratorVBR::mConductanceMat</a></div><div class="ttdeci">Matrix mConductanceMat</div><div class="ttdoc">Equivalent Stator Conductance Matrix.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00122">EMT_Ph3_SynchronGeneratorVBR.h:122</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a42d4bfdf99c3f7d041af930c1e600d0e"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a42d4bfdf99c3f7d041af930c1e600d0e">CPS::EMT::Ph3::SynchronGeneratorVBR::initialize</a></div><div class="ttdeci">void initialize(Matrix frequencies) override</div><div class="ttdoc">Initialize components with correct network frequencies.</div><div class="ttdef"><b>Definition</b> <a href="#l00030">EMT_Ph3_SynchronGeneratorVBR.cpp:30</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a463597be77244e7af701c7090362e581"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a463597be77244e7af701c7090362e581">CPS::EMT::Ph3::SynchronGeneratorVBR::mVa</a></div><div class="ttdeci">Real mVa</div><div class="ttdoc">Interface voltage phase a.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00056">EMT_Ph3_SynchronGeneratorVBR.h:56</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a4a4715b6aee21d722c24c7e57876aac8"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a4a4715b6aee21d722c24c7e57876aac8">CPS::EMT::Ph3::SynchronGeneratorVBR::setBaseAndOperationalPerUnitParameters</a></div><div class="ttdeci">void setBaseAndOperationalPerUnitParameters(Real nomPower, Real nomVolt, Real nomFreq, Int poleNumber, Real nomFieldCur, Real Rs, Real Ld, Real Lq, Real Ld_t, Real Lq_t, Real Ld_s, Real Lq_s, Real Ll, Real Td0_t, Real Tq0_t, Real Td0_s, Real Tq0_s, Real inertia)</div><div class="ttdef"><b>Definition</b> <a href="#l00034">EMT_Ph3_SynchronGeneratorVBR.cpp:34</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a4cfe2f91d745056839ddf4e51e4a144a"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a4cfe2f91d745056839ddf4e51e4a144a">CPS::EMT::Ph3::SynchronGeneratorVBR::mDLmq</a></div><div class="ttdeci">Real mDLmq</div><div class="ttdoc">q dynamic inductance</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00037">EMT_Ph3_SynchronGeneratorVBR.h:37</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a4e7869f6d49611c0849d8d8eccc2a74e"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a4e7869f6d49611c0849d8d8eccc2a74e">CPS::EMT::Ph3::SynchronGeneratorVBR::mLa</a></div><div class="ttdeci">Real mLa</div><div class="ttdoc">Auxiliar inductance.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00040">EMT_Ph3_SynchronGeneratorVBR.h:40</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a582b417fb968dd97d88a2065ffd3773d"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a582b417fb968dd97d88a2065ffd3773d">CPS::EMT::Ph3::SynchronGeneratorVBR::R_eq_vbr</a></div><div class="ttdeci">MatrixFixedSize&lt; 3, 3 &gt; R_eq_vbr</div><div class="ttdoc">Equivalent VBR Stator Resistance.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00128">EMT_Ph3_SynchronGeneratorVBR.h:128</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a58e805b94f6fa0a8f919d7af3c107c06"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a58e805b94f6fa0a8f919d7af3c107c06">CPS::EMT::Ph3::SynchronGeneratorVBR::mIabc</a></div><div class="ttdeci">Matrix mIabc</div><div class="ttdoc">Phase currents in pu.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00100">EMT_Ph3_SynchronGeneratorVBR.h:100</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a5c581c7232d20f485776e8d38628531e"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a5c581c7232d20f485776e8d38628531e">CPS::EMT::Ph3::SynchronGeneratorVBR::mDInductanceMat</a></div><div class="ttdeci">Matrix mDInductanceMat</div><div class="ttdoc">inductance matrix</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00115">EMT_Ph3_SynchronGeneratorVBR.h:115</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a5d980b75e5320f7a364d94ddb8a2d349"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a5d980b75e5320f7a364d94ddb8a2d349">CPS::EMT::Ph3::SynchronGeneratorVBR::mnaCompAddPreStepDependencies</a></div><div class="ttdeci">void mnaCompAddPreStepDependencies(AttributeBase::List &amp;prevStepDependencies, AttributeBase::List &amp;attributeDependencies, AttributeBase::List &amp;modifiedAttributes) override</div><div class="ttdoc">Add MNA pre step dependencies.</div><div class="ttdef"><b>Definition</b> <a href="#l00266">EMT_Ph3_SynchronGeneratorVBR.cpp:266</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a60207bce794761a5d8c7420f069175bc"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a60207bce794761a5d8c7420f069175bc">CPS::EMT::Ph3::SynchronGeneratorVBR::mId_hist</a></div><div class="ttdeci">Real mId_hist</div><div class="ttdoc">D axis stator current of from last time step.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00111">EMT_Ph3_SynchronGeneratorVBR.h:111</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a60cb6627435eafbef3b03505b4555d8d"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a60cb6627435eafbef3b03505b4555d8d">CPS::EMT::Ph3::SynchronGeneratorVBR::mDVabc</a></div><div class="ttdeci">Matrix mDVabc</div><div class="ttdoc">Subtransient voltage in pu.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00104">EMT_Ph3_SynchronGeneratorVBR.h:104</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a60fa88f3bbc7fb139a9d1f278def864d"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a60fa88f3bbc7fb139a9d1f278def864d">CPS::EMT::Ph3::SynchronGeneratorVBR::mnaCompPostStep</a></div><div class="ttdeci">void mnaCompPostStep(Real time, Int timeStepCount, Attribute&lt; Matrix &gt;::Ptr &amp;leftVector) override</div><div class="ttdoc">MNA post step operations.</div><div class="ttdef"><b>Definition</b> <a href="#l00325">EMT_Ph3_SynchronGeneratorVBR.cpp:325</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a6d2f633bc58776cf1b0e421794c8ae71"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a6d2f633bc58776cf1b0e421794c8ae71">CPS::EMT::Ph3::SynchronGeneratorVBR::mPsikd</a></div><div class="ttdeci">Real mPsikd</div><div class="ttdoc">Magnetizing flux linkage damper winding d axis.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00088">EMT_Ph3_SynchronGeneratorVBR.h:88</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a6d806f2eda8316600adcc16d844c25af"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a6d806f2eda8316600adcc16d844c25af">CPS::EMT::Ph3::SynchronGeneratorVBR::E_eq_vbr</a></div><div class="ttdeci">Matrix E_eq_vbr</div><div class="ttdoc">Equivalent VBR Stator Voltage Source.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00130">EMT_Ph3_SynchronGeneratorVBR.h:130</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a6e3f30ad83be8665f2dfb991aa3c1445"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a6e3f30ad83be8665f2dfb991aa3c1445">CPS::EMT::Ph3::SynchronGeneratorVBR::mPsifd</a></div><div class="ttdeci">Real mPsifd</div><div class="ttdoc">Magnetizing flux linkage excitation.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00090">EMT_Ph3_SynchronGeneratorVBR.h:90</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a73a326e112d36ff0df111044d81f0414"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a73a326e112d36ff0df111044d81f0414">CPS::EMT::Ph3::SynchronGeneratorVBR::mnaCompPreStep</a></div><div class="ttdeci">void mnaCompPreStep(Real time, Int timeStepCount) override</div><div class="ttdoc">MNA pre step operations.</div><div class="ttdef"><b>Definition</b> <a href="#l00252">EMT_Ph3_SynchronGeneratorVBR.cpp:252</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a74517259dc7b77bcd43e822f76c2eedf"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a74517259dc7b77bcd43e822f76c2eedf">CPS::EMT::Ph3::SynchronGeneratorVBR::mIq</a></div><div class="ttdeci">Real mIq</div><div class="ttdoc">Interface current q component.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00077">EMT_Ph3_SynchronGeneratorVBR.h:77</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a87a51b070d15fe060d43c087c6637769"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a87a51b070d15fe060d43c087c6637769">CPS::EMT::Ph3::SynchronGeneratorVBR::mIq_hist</a></div><div class="ttdeci">Real mIq_hist</div><div class="ttdoc">Q axis stator current of from last time step.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00109">EMT_Ph3_SynchronGeneratorVBR.h:109</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a8eedde8742359fac3ed8a9a72f18cf98"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a8eedde8742359fac3ed8a9a72f18cf98">CPS::EMT::Ph3::SynchronGeneratorVBR::inverseParkTransform</a></div><div class="ttdeci">Matrix inverseParkTransform(Real theta, Real q, Real d, Real zero)</div><div class="ttdoc">Inverse Park transform as described in Krause.</div><div class="ttdef"><b>Definition</b> <a href="#l00566">EMT_Ph3_SynchronGeneratorVBR.cpp:566</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a926ec8279ef26c445b39127d4adbe994"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a926ec8279ef26c445b39127d4adbe994">CPS::EMT::Ph3::SynchronGeneratorVBR::mDVa</a></div><div class="ttdeci">Real mDVa</div><div class="ttdoc">Dynamic voltage phase a.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00049">EMT_Ph3_SynchronGeneratorVBR.h:49</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a95ae84740db3c2ddf4aee2f630e38fd6"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a95ae84740db3c2ddf4aee2f630e38fd6">CPS::EMT::Ph3::SynchronGeneratorVBR::mDVq</a></div><div class="ttdeci">Real mDVq</div><div class="ttdoc">Dynamic d voltage.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00045">EMT_Ph3_SynchronGeneratorVBR.h:45</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_a9e24e16efb5707fafa90bf0f22d95289"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#a9e24e16efb5707fafa90bf0f22d95289">CPS::EMT::Ph3::SynchronGeneratorVBR::mDVqd</a></div><div class="ttdeci">Matrix mDVqd</div><div class="ttdoc">Dynamic Voltage Vector.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00126">EMT_Ph3_SynchronGeneratorVBR.h:126</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_aa15d6ea8d20627ce7d3d4526fd77a9a1"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa15d6ea8d20627ce7d3d4526fd77a9a1">CPS::EMT::Ph3::SynchronGeneratorVBR::mIc</a></div><div class="ttdeci">Real mIc</div><div class="ttdoc">Interface curent phase c.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00067">EMT_Ph3_SynchronGeneratorVBR.h:67</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_aa2ce795dc253b415b5ffd8d7090e9bd6"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa2ce795dc253b415b5ffd8d7090e9bd6">CPS::EMT::Ph3::SynchronGeneratorVBR::mVabc</a></div><div class="ttdeci">Matrix mVabc</div><div class="ttdoc">Phase Voltages in pu.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00102">EMT_Ph3_SynchronGeneratorVBR.h:102</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_aa5a759beabf67e695d9e71ebef1c2fee"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa5a759beabf67e695d9e71ebef1c2fee">CPS::EMT::Ph3::SynchronGeneratorVBR::mnaCompInitialize</a></div><div class="ttdeci">void mnaCompInitialize(Real omega, Real timeStep, Attribute&lt; Matrix &gt;::Ptr leftVector) override</div><div class="ttdoc">Initializes internal variables of the component.</div><div class="ttdef"><b>Definition</b> <a href="#l00137">EMT_Ph3_SynchronGeneratorVBR.cpp:137</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_aa6e6c3a8da9eb48c476466af2f38216e"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa6e6c3a8da9eb48c476466af2f38216e">CPS::EMT::Ph3::SynchronGeneratorVBR::mDqStatorCurrents</a></div><div class="ttdeci">Matrix mDqStatorCurrents</div><div class="ttdoc">Dq stator current vector.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00107">EMT_Ph3_SynchronGeneratorVBR.h:107</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_aa9e96b9faa22d648a0e3caca3ac1cb48"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aa9e96b9faa22d648a0e3caca3ac1cb48">CPS::EMT::Ph3::SynchronGeneratorVBR::mPsikq1kq2</a></div><div class="ttdeci">Matrix mPsikq1kq2</div><div class="ttdoc">Q axis Rotor flux.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00118">EMT_Ph3_SynchronGeneratorVBR.h:118</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_aaac94db0d6f994ba483ae28434b9cc44"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aaac94db0d6f994ba483ae28434b9cc44">CPS::EMT::Ph3::SynchronGeneratorVBR::mVb</a></div><div class="ttdeci">Real mVb</div><div class="ttdoc">Interface voltage phase b.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00058">EMT_Ph3_SynchronGeneratorVBR.h:58</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_ab04c56991057e064caa7023997bf9714"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ab04c56991057e064caa7023997bf9714">CPS::EMT::Ph3::SynchronGeneratorVBR::mDLmd</a></div><div class="ttdeci">Real mDLmd</div><div class="ttdoc">d dynamic inductance</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00035">EMT_Ph3_SynchronGeneratorVBR.h:35</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_ab0945b0c5eba9c6d5dede8f20de6df96"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ab0945b0c5eba9c6d5dede8f20de6df96">CPS::EMT::Ph3::SynchronGeneratorVBR::stepInPerUnit</a></div><div class="ttdeci">void stepInPerUnit()</div><div class="ttdef"><b>Definition</b> <a href="#l00285">EMT_Ph3_SynchronGeneratorVBR.cpp:285</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_ab55652fc77e71b8e170cc0113d386821"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ab55652fc77e71b8e170cc0113d386821">CPS::EMT::Ph3::SynchronGeneratorVBR::mPsimq</a></div><div class="ttdeci">Real mPsimq</div><div class="ttdoc">Magnetizing flux linkage in q axis.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00092">EMT_Ph3_SynchronGeneratorVBR.h:92</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_ab7877981c0e23b9e0475a45b946a320a"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ab7877981c0e23b9e0475a45b946a320a">CPS::EMT::Ph3::SynchronGeneratorVBR::mnaCompApplyRightSideVectorStamp</a></div><div class="ttdeci">void mnaCompApplyRightSideVectorStamp(Matrix &amp;rightVector) override</div><div class="ttdoc">Stamps right side (source) vector.</div><div class="ttdef"><b>Definition</b> <a href="#l00276">EMT_Ph3_SynchronGeneratorVBR.cpp:276</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_abf05972584bf4c616713d4226f5e1efa"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#abf05972584bf4c616713d4226f5e1efa">CPS::EMT::Ph3::SynchronGeneratorVBR::mISourceEq</a></div><div class="ttdeci">Matrix mISourceEq</div><div class="ttdoc">Equivalent Stator Current Source.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00124">EMT_Ph3_SynchronGeneratorVBR.h:124</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_abfa253ea65143b7c36dd5db6f52cdfd8"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#abfa253ea65143b7c36dd5db6f52cdfd8">CPS::EMT::Ph3::SynchronGeneratorVBR::mnaCompAddPostStepDependencies</a></div><div class="ttdeci">void mnaCompAddPostStepDependencies(AttributeBase::List &amp;prevStepDependencies, AttributeBase::List &amp;attributeDependencies, AttributeBase::List &amp;modifiedAttributes, Attribute&lt; Matrix &gt;::Ptr &amp;leftVector) override</div><div class="ttdoc">Add MNA post step dependencies.</div><div class="ttdef"><b>Definition</b> <a href="#l00412">EMT_Ph3_SynchronGeneratorVBR.cpp:412</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_ac187458b924beaac90cc105166a7d7d6"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac187458b924beaac90cc105166a7d7d6">CPS::EMT::Ph3::SynchronGeneratorVBR::parkTransform</a></div><div class="ttdeci">Matrix parkTransform(Real theta, Real a, Real b, Real c)</div><div class="ttdoc">Park transform as described in Krause.</div><div class="ttdef"><b>Definition</b> <a href="#l00548">EMT_Ph3_SynchronGeneratorVBR.cpp:548</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_ac5de8d7d90dd4d4a8e5ded9e0d015cfc"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac5de8d7d90dd4d4a8e5ded9e0d015cfc">CPS::EMT::Ph3::SynchronGeneratorVBR::mPsikq2</a></div><div class="ttdeci">Real mPsikq2</div><div class="ttdoc">Magnetizing flux linkage 2nd damper winding q axis.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00086">EMT_Ph3_SynchronGeneratorVBR.h:86</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_ac67dd7d013f16501da61f46e8f636211"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac67dd7d013f16501da61f46e8f636211">CPS::EMT::Ph3::SynchronGeneratorVBR::setInitialValues</a></div><div class="ttdeci">void setInitialValues(Real initActivePower, Real initReactivePower, Real initTerminalVolt, Real initVoltAngle, Real initMechPower)</div><div class="ttdoc">Initialize states according to desired initial electrical powerflow and mechanical input power.</div><div class="ttdef"><b>Definition</b> <a href="#l00090">EMT_Ph3_SynchronGeneratorVBR.cpp:90</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_ac7439c6982a917ddf4cac3373b3eded4"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac7439c6982a917ddf4cac3373b3eded4">CPS::EMT::Ph3::SynchronGeneratorVBR::mId</a></div><div class="ttdeci">Real mId</div><div class="ttdoc">Interface current d component.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00079">EMT_Ph3_SynchronGeneratorVBR.h:79</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_ac8d901d89e27380e495f35ffa826828c"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ac8d901d89e27380e495f35ffa826828c">CPS::EMT::Ph3::SynchronGeneratorVBR::mDVb</a></div><div class="ttdeci">Real mDVb</div><div class="ttdoc">Dynamic voltage phase b.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00051">EMT_Ph3_SynchronGeneratorVBR.h:51</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_acaff227ed289d71bfc78b2f25b114db1"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#acaff227ed289d71bfc78b2f25b114db1">CPS::EMT::Ph3::SynchronGeneratorVBR::mI0</a></div><div class="ttdeci">Real mI0</div><div class="ttdoc">Interface current 0 component.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00081">EMT_Ph3_SynchronGeneratorVBR.h:81</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_ad9ba87afa324527d279ce31917bfac58"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ad9ba87afa324527d279ce31917bfac58">CPS::EMT::Ph3::SynchronGeneratorVBR::mDVd</a></div><div class="ttdeci">Real mDVd</div><div class="ttdoc">Dynamic q voltage.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00047">EMT_Ph3_SynchronGeneratorVBR.h:47</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_ad9c49c1fa8e3f1031d592e9cdf5746c8"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ad9c49c1fa8e3f1031d592e9cdf5746c8">CPS::EMT::Ph3::SynchronGeneratorVBR::mnaCompApplySystemMatrixStamp</a></div><div class="ttdeci">void mnaCompApplySystemMatrixStamp(SparseMatrixRow &amp;systemMatrix) override</div><div class="ttdoc">Stamps system matrix.</div><div class="ttdef"><b>Definition</b> <a href="#l00258">EMT_Ph3_SynchronGeneratorVBR.cpp:258</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_ada4d439dbb4cd03158e794b3815b95d0"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ada4d439dbb4cd03158e794b3815b95d0">CPS::EMT::Ph3::SynchronGeneratorVBR::mDVc</a></div><div class="ttdeci">Real mDVc</div><div class="ttdoc">Dynamic voltage phase c.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00053">EMT_Ph3_SynchronGeneratorVBR.h:53</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_ae6dc1329a8ecbda86c286e239256de29"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#ae6dc1329a8ecbda86c286e239256de29">CPS::EMT::Ph3::SynchronGeneratorVBR::mIb</a></div><div class="ttdeci">Real mIb</div><div class="ttdoc">Interface curent phase b.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00065">EMT_Ph3_SynchronGeneratorVBR.h:65</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_aee90424ea4586251101e046aa1329ac8"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#aee90424ea4586251101e046aa1329ac8">CPS::EMT::Ph3::SynchronGeneratorVBR::mVfd</a></div><div class="ttdeci">Real mVfd</div><div class="ttdoc">Voltage excitation.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00097">EMT_Ph3_SynchronGeneratorVBR.h:97</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_af2c5e8b9207d8715947c63d86bdf5a73"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#af2c5e8b9207d8715947c63d86bdf5a73">CPS::EMT::Ph3::SynchronGeneratorVBR::initializeFromNodesAndTerminals</a></div><div class="ttdeci">void initializeFromNodesAndTerminals(Real frequency) override</div><div class="ttdoc">Initializes component from power flow data.</div><div class="ttdef"><b>Definition</b> <a href="#l00109">EMT_Ph3_SynchronGeneratorVBR.cpp:109</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_af58017d340eaf76e189eba1dfce6aa0d"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#af58017d340eaf76e189eba1dfce6aa0d">CPS::EMT::Ph3::SynchronGeneratorVBR::mPsifdkd</a></div><div class="ttdeci">Matrix mPsifdkd</div><div class="ttdoc">D axis rotor flux.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00120">EMT_Ph3_SynchronGeneratorVBR.h:120</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_af8fd6b77ae3390027a8467ee1fc3f40c"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#af8fd6b77ae3390027a8467ee1fc3f40c">CPS::EMT::Ph3::SynchronGeneratorVBR::CalculateL</a></div><div class="ttdeci">void CalculateL()</div><div class="ttdoc">Calculate inductance Matrix L and its derivative.</div><div class="ttdef"><b>Definition</b> <a href="#l00423">EMT_Ph3_SynchronGeneratorVBR.cpp:423</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r_html_afa6f2f502767f284dfc7829f9cfa3d15"><div class="ttname"><a href="class_c_p_s_1_1_e_m_t_1_1_ph3_1_1_synchron_generator_v_b_r.html#afa6f2f502767f284dfc7829f9cfa3d15">CPS::EMT::Ph3::SynchronGeneratorVBR::mVd</a></div><div class="ttdeci">Real mVd</div><div class="ttdoc">Interface voltage d component.</div><div class="ttdef"><b>Definition</b> <a href="_e_m_t___ph3___synchron_generator_v_b_r_8h_source.html#l00072">EMT_Ph3_SynchronGeneratorVBR.h:72</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_identified_object_html_a66b765f33341283bc9b916c74047c749"><div class="ttname"><a href="class_c_p_s_1_1_identified_object.html#a66b765f33341283bc9b916c74047c749">CPS::IdentifiedObject::uid</a></div><div class="ttdeci">String uid()</div><div class="ttdoc">Returns unique id.</div><div class="ttdef"><b>Definition</b> <a href="_identified_object_8h_source.html#l00061">IdentifiedObject.h:61</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_identified_object_html_af7497f9b94a45040b1601ac58f5e3d97"><div class="ttname"><a href="class_c_p_s_1_1_identified_object.html#af7497f9b94a45040b1601ac58f5e3d97">CPS::IdentifiedObject::mAttributes</a></div><div class="ttdeci">AttributeList::Ptr mAttributes</div><div class="ttdoc">Attribute List.</div><div class="ttdef"><b>Definition</b> <a href="_identified_object_8h_source.html#l00022">IdentifiedObject.h:22</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_m_n_a_sim_power_comp_html_ab9f66bb4639c7d0d73b47cef6be789c5"><div class="ttname"><a href="class_c_p_s_1_1_m_n_a_sim_power_comp.html#ab9f66bb4639c7d0d73b47cef6be789c5">CPS::MNASimPowerComp&lt; Real &gt;::MNASimPowerComp</a></div><div class="ttdeci">MNASimPowerComp(String uid, String name, Bool hasPreStep, Bool hasPostStep, Logger::Level logLevel)</div><div class="ttdef"><b>Definition</b> <a href="_m_n_a_sim_power_comp_8h_source.html#l00032">MNASimPowerComp.h:32</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_m_n_a_sim_power_comp_html_ac70d8c6733b49d5d5565ba21c28b372e"><div class="ttname"><a href="class_c_p_s_1_1_m_n_a_sim_power_comp.html#ac70d8c6733b49d5d5565ba21c28b372e">CPS::MNASimPowerComp&lt; Real &gt;::mRightVector</a></div><div class="ttdeci">Attribute&lt; Matrix &gt;::Ptr mRightVector</div><div class="ttdef"><b>Definition</b> <a href="_m_n_a_sim_power_comp_8h_source.html#l00026">MNASimPowerComp.h:26</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_sim_power_comp_html_a141d3e207fff12a4808e3f562a99fda1"><div class="ttname"><a href="class_c_p_s_1_1_sim_power_comp.html#a141d3e207fff12a4808e3f562a99fda1">CPS::SimPowerComp&lt; Real &gt;::mIntfCurrent</a></div><div class="ttdeci">const Attribute&lt; MatrixVar&lt; Real &gt; &gt;::Ptr mIntfCurrent</div><div class="ttdef"><b>Definition</b> <a href="_sim_power_comp_8h_source.html#l00047">SimPowerComp.h:47</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_sim_power_comp_html_a69a018f851bb62cf5147e25a93f2cb2c"><div class="ttname"><a href="class_c_p_s_1_1_sim_power_comp.html#a69a018f851bb62cf5147e25a93f2cb2c">CPS::SimPowerComp::initialize</a></div><div class="ttdeci">virtual void initialize(Matrix frequencies)</div><div class="ttdoc">Initialize components with correct network frequencies.</div><div class="ttdef"><b>Definition</b> <a href="_sim_power_comp_8cpp_source.html#l00286">SimPowerComp.cpp:286</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_sim_power_comp_html_a6b82b23bfd1af87d260af378361169e7"><div class="ttname"><a href="class_c_p_s_1_1_sim_power_comp.html#a6b82b23bfd1af87d260af378361169e7">CPS::SimPowerComp&lt; Real &gt;::terminal</a></div><div class="ttdeci">SimTerminal&lt; Real &gt;::Ptr terminal(UInt index)</div><div class="ttdef"><b>Definition</b> <a href="_sim_power_comp_8cpp_source.html#l00073">SimPowerComp.cpp:146</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_sim_power_comp_html_a7210276935119e370dfb1f98d02c3a9a"><div class="ttname"><a href="class_c_p_s_1_1_sim_power_comp.html#a7210276935119e370dfb1f98d02c3a9a">CPS::SimPowerComp&lt; Real &gt;::mIntfVoltage</a></div><div class="ttdeci">const Attribute&lt; MatrixVar&lt; Real &gt; &gt;::Ptr mIntfVoltage</div><div class="ttdef"><b>Definition</b> <a href="_sim_power_comp_8h_source.html#l00045">SimPowerComp.h:45</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_sim_power_comp_html_aeae7b46840d1405f8794fc41ee594dee"><div class="ttname"><a href="class_c_p_s_1_1_sim_power_comp.html#aeae7b46840d1405f8794fc41ee594dee">CPS::SimPowerComp&lt; Real &gt;::updateMatrixNodeIndices</a></div><div class="ttdeci">void updateMatrixNodeIndices()</div><div class="ttdef"><b>Definition</b> <a href="_sim_power_comp_8cpp_source.html#l00086">SimPowerComp.cpp:199</a></div></div>
<div class="ttc" id="aclass_c_p_s_1_1_topological_power_comp_html_a7c61e480e446111d56ac35399643d5b0"><div class="ttname"><a href="class_c_p_s_1_1_topological_power_comp.html#a7c61e480e446111d56ac35399643d5b0">CPS::TopologicalPowerComp::mSLog</a></div><div class="ttdeci">Logger::Log mSLog</div><div class="ttdoc">Component logger.</div><div class="ttdef"><b>Definition</b> <a href="_topological_power_comp_8h_source.html#l00034">TopologicalPowerComp.h:34</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
