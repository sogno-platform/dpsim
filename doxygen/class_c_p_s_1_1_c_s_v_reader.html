<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DPsim: CPS::CSVReader Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DPsim
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>CPS</b></li><li class="navelem"><a class="el" href="class_c_p_s_1_1_c_s_v_reader.html">CSVReader</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_c_p_s_1_1_c_s_v_reader-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CPS::CSVReader Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>reads load profiles (csv files only) and assign them to the corresponding load object  
 <a href="class_c_p_s_1_1_c_s_v_reader.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_c_s_v_reader_8h_source.html">CSVReader.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a07ab85b64411bd9e48d7a2e4a6df6b18"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_p_s_1_1_c_s_v_reader.html#a07ab85b64411bd9e48d7a2e4a6df6b18">Mode</a> { <b>AUTO</b>
, <b>MANUAL</b>
 }</td></tr>
<tr class="separator:a07ab85b64411bd9e48d7a2e4a6df6b18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71c248f331cd2c1fd63db4f171b6ea7d"><td class="memItemLeft" align="right" valign="top"><a id="a71c248f331cd2c1fd63db4f171b6ea7d"></a>enum class &#160;</td><td class="memItemRight" valign="bottom"><b>DataFormat</b> { <b>HHMMSS</b>
, <b>SECONDS</b>
, <b>HOURS</b>
, <b>MINUTES</b>
 }</td></tr>
<tr class="separator:a71c248f331cd2c1fd63db4f171b6ea7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a72974ae698b3fec9110130b62400849d"><td class="memItemLeft" align="right" valign="top"><a id="a72974ae698b3fec9110130b62400849d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>CSVReader</b> (String name, std::list&lt; fs::path &gt; path, Logger::Level logLevel)</td></tr>
<tr class="separator:a72974ae698b3fec9110130b62400849d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bcb49f4a4b8cad68e8e058c52615526"><td class="memItemLeft" align="right" valign="top"><a id="a2bcb49f4a4b8cad68e8e058c52615526"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>CSVReader</b> (String name, String path, Logger::Level logLevel)</td></tr>
<tr class="separator:a2bcb49f4a4b8cad68e8e058c52615526"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab9fc2acb6bcd4fc98235efc2f4e8607"><td class="memItemLeft" align="right" valign="top"><a id="aab9fc2acb6bcd4fc98235efc2f4e8607"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>CSVReader</b> (String name, std::list&lt; fs::path &gt; path, std::map&lt; String, String &gt; &amp;assignList, Logger::Level logLevel)</td></tr>
<tr class="separator:aab9fc2acb6bcd4fc98235efc2f4e8607"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0f59e6b3b0949c5cb0eb0657d53741c"><td class="memItemLeft" align="right" valign="top"><a id="ac0f59e6b3b0949c5cb0eb0657d53741c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>CSVReader</b> (String name, String path, std::map&lt; String, String &gt; &amp;assignList, Logger::Level logLevel)</td></tr>
<tr class="separator:ac0f59e6b3b0949c5cb0eb0657d53741c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6eca102a05b639d2c39c829f3fac506"><td class="memItemLeft" align="right" valign="top">Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_p_s_1_1_c_s_v_reader.html#af6eca102a05b639d2c39c829f3fac506">time_format_convert</a> (const String &amp;time)</td></tr>
<tr class="separator:af6eca102a05b639d2c39c829f3fac506"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ba4109a0cc5b1380f7e78db657a6401"><td class="memItemLeft" align="right" valign="top"><a id="a8ba4109a0cc5b1380f7e78db657a6401"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_p_s_1_1_c_s_v_reader.html#a8ba4109a0cc5b1380f7e78db657a6401">doSkipFirstRow</a> (Bool value=true)</td></tr>
<tr class="memdesc:a8ba4109a0cc5b1380f7e78db657a6401"><td class="mdescLeft">&#160;</td><td class="mdescRight">Skip first row if it has no digits at beginning. <br /></td></tr>
<tr class="separator:a8ba4109a0cc5b1380f7e78db657a6401"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad032428164768eabb2014c65254cc277"><td class="memItemLeft" align="right" valign="top"><a id="ad032428164768eabb2014c65254cc277"></a>
MatrixRow&#160;</td><td class="memItemRight" valign="bottom"><b>csv2Eigen</b> (const String &amp;path)</td></tr>
<tr class="separator:ad032428164768eabb2014c65254cc277"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaab644dbddc681ae65bd0e3125941a3"><td class="memItemLeft" align="right" valign="top"><a id="aeaab644dbddc681ae65bd0e3125941a3"></a>
std::vector&lt; <a class="el" href="struct_c_p_s_1_1_p_q_data.html">PQData</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>readLoadProfileDP</b> (fs::path file, Real start_time=-1, Real time_step=1, Real end_time=-1, Real scale_factor=1, CSVReader::DataFormat format=CSVReader::DataFormat::SECONDS)</td></tr>
<tr class="separator:aeaab644dbddc681ae65bd0e3125941a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab09375a178f7e68dfd696ffad42868f"><td class="memItemLeft" align="right" valign="top"><a id="aab09375a178f7e68dfd696ffad42868f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>assignLoadProfileDP</b> (std::vector&lt; std::shared_ptr&lt; <a class="el" href="class_c_p_s_1_1_d_p_1_1_ph1_1_1_av_voltage_source_inverter_d_q.html">CPS::DP::Ph1::AvVoltageSourceInverterDQ</a> &gt;&gt; &amp;loads, Real start_time=-1, Real time_step=1, Real end_time=-1, Real scale_factor=1, <a class="el" href="class_c_p_s_1_1_c_s_v_reader.html#a07ab85b64411bd9e48d7a2e4a6df6b18">CSVReader::Mode</a> mode=CSVReader::Mode::AUTO, CSVReader::DataFormat format=CSVReader::DataFormat::SECONDS)</td></tr>
<tr class="separator:aab09375a178f7e68dfd696ffad42868f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d2d9b2ae5cff7b334d9fa571796f82a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_c_p_s_1_1_power_profile.html">PowerProfile</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_p_s_1_1_c_s_v_reader.html#a6d2d9b2ae5cff7b334d9fa571796f82a">readLoadProfile</a> (fs::path file, Real start_time=-1, Real time_step=1, Real end_time=-1, CSVReader::DataFormat format=CSVReader::DataFormat::SECONDS)</td></tr>
<tr class="separator:a6d2d9b2ae5cff7b334d9fa571796f82a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2607ea94f260d1661a1521ccba97d6e0"><td class="memItemLeft" align="right" valign="top"><a id="a2607ea94f260d1661a1521ccba97d6e0"></a>
std::vector&lt; Real &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>readPQData</b> (fs::path file, Real start_time=-1, Real time_step=1, Real end_time=-1, CSVReader::DataFormat format=CSVReader::DataFormat::SECONDS)</td></tr>
<tr class="separator:a2607ea94f260d1661a1521ccba97d6e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee322f4b844dce6629b34aaa49e2a736"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_p_s_1_1_c_s_v_reader.html#aee322f4b844dce6629b34aaa49e2a736">assignLoadProfile</a> (<a class="el" href="class_c_p_s_1_1_system_topology.html">SystemTopology</a> &amp;sys, Real start_time=-1, Real time_step=1, Real end_time=-1, <a class="el" href="class_c_p_s_1_1_c_s_v_reader.html#a07ab85b64411bd9e48d7a2e4a6df6b18">CSVReader::Mode</a> mode=CSVReader::Mode::AUTO, CSVReader::DataFormat format=CSVReader::DataFormat::SECONDS)</td></tr>
<tr class="memdesc:aee322f4b844dce6629b34aaa49e2a736"><td class="mdescLeft">&#160;</td><td class="mdescRight">assign load profile to corresponding load object  <a href="class_c_p_s_1_1_c_s_v_reader.html#aee322f4b844dce6629b34aaa49e2a736">More...</a><br /></td></tr>
<tr class="separator:aee322f4b844dce6629b34aaa49e2a736"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa56a0bfd0b45a8964dd8e0fa0e8da1ff"><td class="memItemLeft" align="right" valign="top"><a id="aa56a0bfd0b45a8964dd8e0fa0e8da1ff"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>assignPVGeneration</b> (<a class="el" href="class_c_p_s_1_1_system_topology.html">SystemTopology</a> &amp;sys, Real start_time=-1, Real time_step=1, Real end_time=-1, <a class="el" href="class_c_p_s_1_1_c_s_v_reader.html#a07ab85b64411bd9e48d7a2e4a6df6b18">CSVReader::Mode</a> mode=CSVReader::Mode::AUTO)</td></tr>
<tr class="separator:aa56a0bfd0b45a8964dd8e0fa0e8da1ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75a33af720d82201e40ac94c805c7f16"><td class="memItemLeft" align="right" valign="top"><a id="a75a33af720d82201e40ac94c805c7f16"></a>
<a class="el" href="struct_c_p_s_1_1_p_q_data.html">PQData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_p_s_1_1_c_s_v_reader.html#a75a33af720d82201e40ac94c805c7f16">interpol_linear</a> (std::map&lt; Real, <a class="el" href="struct_c_p_s_1_1_p_q_data.html">PQData</a> &gt; &amp;data_PQ, Real x)</td></tr>
<tr class="memdesc:a75a33af720d82201e40ac94c805c7f16"><td class="mdescLeft">&#160;</td><td class="mdescRight">interpolation for PQ data points <br /></td></tr>
<tr class="separator:a75a33af720d82201e40ac94c805c7f16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef0021cfe52b019483de44dcb59ab48b"><td class="memItemLeft" align="right" valign="top"><a id="aef0021cfe52b019483de44dcb59ab48b"></a>
Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_p_s_1_1_c_s_v_reader.html#aef0021cfe52b019483de44dcb59ab48b">interpol_linear</a> (std::map&lt; Real, Real &gt; &amp;data_wf, Real x)</td></tr>
<tr class="memdesc:aef0021cfe52b019483de44dcb59ab48b"><td class="mdescLeft">&#160;</td><td class="mdescRight">interpolation for weighting factor data points <br /></td></tr>
<tr class="separator:aef0021cfe52b019483de44dcb59ab48b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>reads load profiles (csv files only) and assign them to the corresponding load object </p>

<p class="definition">Definition at line <a class="el" href="_c_s_v_reader_8h_source.html#l00028">28</a> of file <a class="el" href="_c_s_v_reader_8h_source.html">CSVReader.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a07ab85b64411bd9e48d7a2e4a6df6b18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07ab85b64411bd9e48d7a2e4a6df6b18">&#9670;&nbsp;</a></span>Mode</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_c_p_s_1_1_c_s_v_reader.html#a07ab85b64411bd9e48d7a2e4a6df6b18">CPS::CSVReader::Mode</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>set load profile assigning pattern. AUTO for assigning load profile name (csv file name) to load object with the same name (mName) MANUAL for providing an assign pattern manually. see power flow example: CIM/CIGRE_MV_PowerFlowTest_LoadProfiles.cpp </p>

<p class="definition">Definition at line <a class="el" href="_c_s_v_reader_8h_source.html#l00044">44</a> of file <a class="el" href="_c_s_v_reader_8h_source.html">CSVReader.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aee322f4b844dce6629b34aaa49e2a736"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee322f4b844dce6629b34aaa49e2a736">&#9670;&nbsp;</a></span>assignLoadProfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CSVReader::assignLoadProfile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_p_s_1_1_system_topology.html">CPS::SystemTopology</a> &amp;&#160;</td>
          <td class="paramname"><em>sys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>start_time</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>time_step</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>end_time</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_p_s_1_1_c_s_v_reader.html#a07ab85b64411bd9e48d7a2e4a6df6b18">CSVReader::Mode</a>&#160;</td>
          <td class="paramname"><em>mode</em> = <code>CSVReader::Mode::AUTO</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CSVReader::DataFormat&#160;</td>
          <td class="paramname"><em>format</em> = <code>CSVReader::DataFormat::SECONDS</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>assign load profile to corresponding load object </p>
<p>changing file name and load name to upper case for later matching</p>
<p>strip off all non-alphanumeric characters</p>

<p class="definition">Definition at line <a class="el" href="_c_s_v_reader_8cpp_source.html#l00479">479</a> of file <a class="el" href="_c_s_v_reader_8cpp_source.html">CSVReader.cpp</a>.</p>

</div>
</div>
<a id="a6d2d9b2ae5cff7b334d9fa571796f82a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d2d9b2ae5cff7b334d9fa571796f82a">&#9670;&nbsp;</a></span>readLoadProfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_c_p_s_1_1_power_profile.html">PowerProfile</a> CSVReader::readLoadProfile </td>
          <td>(</td>
          <td class="paramtype">fs::path&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>start_time</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>time_step</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Real&#160;</td>
          <td class="paramname"><em>end_time</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CSVReader::DataFormat&#160;</td>
          <td class="paramname"><em>format</em> = <code>CSVReader::DataFormat::SECONDS</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TODO : deprecate in the future read in load profile with time stamp format specified </p>

<p class="definition">Definition at line <a class="el" href="_c_s_v_reader_8cpp_source.html#l00360">360</a> of file <a class="el" href="_c_s_v_reader_8cpp_source.html">CSVReader.cpp</a>.</p>

</div>
</div>
<a id="af6eca102a05b639d2c39c829f3fac506"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6eca102a05b639d2c39c829f3fac506">&#9670;&nbsp;</a></span>time_format_convert()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CPS::Real CSVReader::time_format_convert </td>
          <td>(</td>
          <td class="paramtype">const String &amp;&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>convert HH:MM:SS format timestamp into total seconds. e.g.: 00 : 01 : 00 &ndash; &gt; 60. </p>

<p class="definition">Definition at line <a class="el" href="_c_s_v_reader_8cpp_source.html#l00124">124</a> of file <a class="el" href="_c_s_v_reader_8cpp_source.html">CSVReader.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/__w/dpsim/dpsim/dpsim-models/include/dpsim-models/<a class="el" href="_c_s_v_reader_8h_source.html">CSVReader.h</a></li>
<li>/__w/dpsim/dpsim/dpsim-models/src/<a class="el" href="_c_s_v_reader_8cpp_source.html">CSVReader.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
